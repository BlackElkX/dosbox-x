<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Installing Microsoft Windows 2.x in DOSBox-X</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./rouge-github.css">
<link rel="stylesheet" href="docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>Back to the <a href="Guide%3AMicrosoft-Windows-in-DOSBox‐X">Microsoft Windows in DOSBox-X</a></p>
</div>
<div class="sect1">
<h2 id="_installing_microsoft_windows_2_x_in_dosbox_x">Installing Microsoft Windows 2.x in DOSBox-X</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SPLASH.png" alt="Windows 2.03 splash screen">
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_installing_microsoft_windows_2_x_in_dosbox_x">Installing Microsoft Windows 2.x in DOSBox-X</a></li>
<li><a href="#_overview">Overview</a>
<ul class="sectlevel2">
<li><a href="#_editions_this_applies_to">Editions this applies to</a></li>
<li><a href="#_naming">Naming</a></li>
<li><a href="#_limitations">Limitations</a></li>
<li><a href="#_useful_links">Useful links</a></li>
</ul>
</li>
<li><a href="#_dosbox_x_config_file">DOSBox-X config file</a></li>
<li><a href="#_method_1_installing_windows_2_x_into_a_mounted_folder">Method 1 - Installing Windows 2.x into a mounted folder</a>
<ul class="sectlevel2">
<li><a href="#_preparing_for_installation">Preparing for installation</a></li>
<li><a href="#_example_of_extracting_files_from_disk_images">Example of extracting files from disk images</a></li>
<li><a href="#_installing_in_a_mounted_folder">Installing in a mounted folder</a></li>
</ul>
</li>
<li><a href="#_method_2_installing_in_real_dos">Method 2 - Installing in real DOS</a></li>
<li><a href="#_windows_2_x_setup_program">Windows 2.x setup program</a></li>
<li><a href="#_starting_windows_2_x_after_installation">Starting Windows 2.x after installation</a></li>
<li><a href="#_video">Video</a></li>
<li><a href="#_mouse">Mouse</a></li>
<li><a href="#_known_issues">Known issues</a>
<ul class="sectlevel2">
<li><a href="#_running_windows_2_x_setup">Running Windows 2.x SETUP</a></li>
<li><a href="#_running_windows_2_x_from_dosbox_x">Running Windows 2.x from DOSBox-X</a></li>
<li><a href="#_running_windows_2_x_from_real_dos">Running Windows 2.x from real DOS</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_editions_this_applies_to">Editions this applies to</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Windows/386 2.01</strong> (OEM release)</p>
<div class="ulist">
<ul>
<li>
<p>Only meant for early Compaq 386 computers.</p>
</li>
<li>
<p>Introduces 386 extensions (protected mode).</p>
</li>
<li>
<p>LIM EMS 4.0 support.</p>
</li>
<li>
<p>Supplies EMS emulation.</p>
</li>
<li>
<p>Support for overlapping windows.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Windows 2.03</strong> and <strong>Windows/386 2.03</strong></p>
<div class="ulist">
<ul>
<li>
<p>Adds support for non-Compaq computers.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Windows/286 2.10</strong> and <strong>Windows/386 2.10</strong></p>
<div class="ulist">
<ul>
<li>
<p>Adds HIMEM.SYS support for HMA (High Memory Area).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Windows/286 2.11</strong> and <strong>Windows/386 2.11</strong></p>
<div class="ulist">
<ul>
<li>
<p>minor update to memory management.</p>
</li>
<li>
<p>AppleTalk Support.</p>
</li>
<li>
<p>Faster printing and updated printer drivers.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Windows 2.x was available in both Retail and OEM editions, for shipping with computers.
A special runtime edition was also included with some applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_naming">Naming</h3>
<div class="paragraph">
<p>Naming of Windows 2.x editions can be confusing.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Editions ending in <strong>/286</strong> were marketed for 286 (AT) class computers</p>
</li>
<li>
<p>Editions ending in <strong>/386</strong> were marketed for 386 class computers</p>
</li>
<li>
<p>Editions without either designation were primarily meant for 8086/8088 (XT) class computers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, in reality <strong>/286</strong> branded versions can also be used on 8086/8088 systems, as the only 286 specific addition was the bundled <code>HIMEM.SYS</code> driver to allow access to the High Memory Area (HMA) of 286 (or later) systems.
In addition, it can also be used on 386 class systems, although without benefiting from the 386 CPU enhancements.</p>
</div>
<div class="paragraph">
<p>Likewise, the <strong>/386</strong> branded versions can also be used on 8086/8088 or 286 systems, by starting Windows using <code>WIN86.COM</code> instead of <code>WIN386.EXE</code>.
Although without benefiting from the 386 CPU specific enhancements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_limitations">Limitations</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Edition</th>
<th class="tableblock halign-left valign-top">Official Min. CPU</th>
<th class="tableblock halign-left valign-top">Actual Min. CPU</th>
<th class="tableblock halign-left valign-top">Min. DOS</th>
<th class="tableblock halign-left valign-top">HMA driver</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows/386 2.01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">386</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows 2.03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows/386 2.03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">386</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows/286 2.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">286</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows/386 2.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">386</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows/286 2.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">286</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows/386 2.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">386</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8086/8088</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>At least 512KB RAM is required</p>
</li>
<li>
<p>Officially requires an HDD</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Windows 2.x has problems starting if the reported DOS version is 5.0 or higher.
Therefore, it is necessary to set the reported DOS version to something like 4.0.</p>
</div>
<div class="paragraph">
<p>As Windows/386 2.01 was the first Windows 2.x release and meant only for early Compaq 386 computers, it has a very small selection of drivers, and for instance no driver for a PS/2 mouse.
Therefore, if you want to run this version in DOSBox-X with a mouse, you should either enable <code>serial1=serialmouse</code> support (preferred), or you need to use the PS/2 mouse driver from a slightly newer Windows 2.x release.</p>
</div>
<div class="paragraph">
<p>Windows 2.1x editions will complain if the High Memory Area (HMA) is used.
This can be resolved by setting <code>DOS=LOW</code> in the [config] section of the DOSBox-X config file, or when booting real DOS by setting the same setting in <code>CONFIG.SYS</code>.</p>
</div>
<div class="paragraph">
<p>All Windows/386 editions install by default into <code>C:\WIN386</code> instead of <code>C:\WINDOWS</code> as other Windows versions normally do.
And the command to start Windows/386 is <code>win386.exe</code>, instead of the typical <code>win.com</code> of most other Windows versions at the time.
Windows/386 also has a <code>win86.com</code> executable, which is effectively a renamed <code>win.com</code>, and this makes it possible to run Windows/386 on 8086 and 286 computers.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Currently DOSBox-X is only able to start Windows 2.x in 8086 compatibility mode from the integrated DOS.
To make use of the 386 enhancements, it is necessary to boot real DOS in DOSBox-X.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_useful_links">Useful links</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Windows_2.0">Wikipedia: Windows 2.0</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Windows_2.1x">Wikipedia: Windows 2.1x</a></p>
</li>
<li>
<p><a href="https://betawiki.net/wiki/Windows_2.x">BetaWiki: Windows 2.x</a></p>
</li>
<li>
<p><a href="https://www.os2museum.com/wp/windows386-2-01/">os2museum: Windows/386 2.01</a></p>
</li>
<li>
<p><a href="https://toastytech.com/guis/win1x2x.html">Overview of Windows 1.x/2.x Applications</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dosbox_x_config_file">DOSBox-X config file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is recommended that you create a custom DOSBox-X config file for running Windows 2.x</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[sdl]</span>
<span class="py">autolock</span><span class="p">=</span><span class="s">true</span>

<span class="nn">[dosbox]</span>
<span class="py">title</span><span class="p">=</span><span class="s">Windows 2.x</span>

<span class="nn">[dos]</span>
<span class="py">ver</span><span class="p">=</span><span class="s">4.0</span>

<span class="nn">[serial]</span>
<span class="c">#uncomment if using Windows/386 2.01 which lacks PS/2 mouse support
#serial1=serialmouse
</span>
<span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">printer</span>

<span class="nn">[printer]</span>
<span class="py">multipage</span><span class="p">=</span><span class="s">true</span>
<span class="py">timeout</span><span class="p">=</span><span class="s">5000</span>

<span class="nn">[render]</span>
<span class="py">scaler</span><span class="p">=</span><span class="s">none</span>

<span class="nn">[config]</span>
<span class="py">dos</span><span class="p">=</span><span class="s">low</span>

<span class="nn">[autoexec]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Copy the above config and save it as <strong>win2x.conf</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_method_1_installing_windows_2_x_into_a_mounted_folder">Method 1 - Installing Windows 2.x into a mounted folder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This method will work for all Windows 2.x versions, but Windows/386 versions can only be run in 8086 compatibility mode.</p>
</div>
<div class="paragraph">
<p>For running Windows/386 in 386 mode, it is necessary to use method 2 below.</p>
</div>
<div class="sect2">
<h3 id="_preparing_for_installation">Preparing for installation</h3>
<div class="paragraph">
<p>The installation will be into a mounted folder, and Windows 2.x will run from the integrated DOS that DOSBox-X provides.</p>
</div>
<div class="paragraph">
<p>Start by creating a directory on your system that you&#8217;re going to use (mount) as your Windows 2.x C: drive.
Valid examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Windows hosts</p>
<div class="ulist">
<ul>
<li>
<p>C:\winroot</p>
</li>
<li>
<p>C:\users\myuser\win2x</p>
</li>
</ul>
</div>
</li>
<li>
<p>For Linux hosts</p>
<div class="ulist">
<ul>
<li>
<p>/home/myuser/winroot</p>
</li>
<li>
<p>/home/myuser/windows/win2x</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note: For users using Windows as their host OS, do <strong>NOT</strong> mount the root of your C: drive as the DOSBox-X C: drive! (e.g., <code>MOUNT C: C:\</code> should NOT be done)</p>
</div>
<div class="paragraph">
<p>Windows 2.x versions were shipped on floppies, requiring anywhere between 4 and 10 disks, depending on media-type and Windows version.
And while it is possible to install Windows 2.x from floppy images in DOSBox-X, the disk-swap process for this is rather tedious for substantial number of disks.
As such it is recommended to make a directory such as "INSTALL" and copy the contents of ALL the diskettes into this directory.
This way there is no need to swap disks during the installation process.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_extracting_files_from_disk_images">Example of extracting files from disk images</h3>
<div class="paragraph">
<p>There are several ways to extract the contents of disk images, such as 7zip on Windows or "Disk Image Mounter" on Linux.
In this example, DOSBox-X itself is used to mount a disk image, copy its contents into a folder, unmount the disk image and do the next.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MOUNT C /home/myuser/winroot
C:
MD INSTALL
IMGMOUNT A DISK01.IMG -U
XCOPY A:\. C:\INSTALL /S /Y
IMGMOUNT A DISK02.IMG -U
XCOPY A:\. C:\INSTALL /S /Y
IMGMOUNT A DISK03.IMG -U
XCOPY A:\. C:\INSTALL /S /Y
IMGMOUNT A DISK04.IMG -U
XCOPY A:\. C:\INSTALL /S /Y
IMGMOUNT A DISK05.IMG -U
XCOPY A:\. C:\INSTALL /S /Y
IMGMOUNT A -U</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Your new INSTALL directory now holds the contents of all 5 disks in this example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_in_a_mounted_folder">Installing in a mounted folder</h3>
<div class="paragraph">
<p>You&#8217;re now ready to start DOSBox-X from the command-line, using the newly created <code>win2x.conf</code> config file.
This assumes that the <code>dosbox-x</code> program is in your path and <code>win2x.conf</code> is in your current directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf win2x.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You now need to mount your new folder as the C: drive in DOSBox-X and start the installation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MOUNT C /home/myuser/winroot
C:
SUBST A C:\INSTALL
CD INSTALL
SETUP</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the path for mounting the C: drive as needed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If your path has spaces in it, you need to enclose it in quotes. e.g., <code>MOUNT C: "C:\Users\John Doe\winroot"</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Windows installation will now take place.
See the <a href="#Windows-2.x-setup-program">Windows 2.x setup program</a> section below.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_method_2_installing_in_real_dos">Method 2 - Installing in real DOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This method is needed to be able to run Windows/386 editions in 386 mode, and requires that you create a DOS HDD image.</p>
</div>
<div class="paragraph">
<p>But it brings with it a bit of added inconvenience.
For instance, you will need to do your own DOS memory management, and if needed, load DOS drivers for CD-ROM access.</p>
</div>
<div class="paragraph">
<p>The first step is to create a DOS HDD image, for which you can follow the <a href="Guide%3ADOS-Installation-in-DOSBox‐X">PC DOS and MS-DOS Installation Guide</a>.
It is recommended to use at least DOS 3.1, as it is compatible with all Windows 2.x releases.
When using DOS 5.0 or higher however, it will be necessary to use <a href="https://web.csulb.edu/~murdock/setver.html">SETVER</a> to make Windows 2.x think you&#8217;re using and older DOS version like version 4.0.</p>
</div>
<div class="paragraph">
<p>Once you have a DOS HDD image, temporarily mount it in DOSBox-X to transfer your INSTALL folder into your DOS HDD image, together with any drivers and add-ons you might need (preferably already unzipped, such that you don&#8217;t need to do that in DOS or Windows 2.x, as they lack support for that by default).</p>
</div>
<div class="paragraph">
<p>Something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">IMGMOUNT C hdd.img
MOUNT D .
XCOPY D:\INSTALL C:\INSTALL /I /S
XCOPY D:\DRIVERS C:\DRIVERS /I /S
XCOPY D:\ADDONS C:\ADDONS /I /S
EXIT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Adjust paths in the above example as needed.</p>
</div>
<div class="paragraph">
<p>Now edit your <code>win2x.conf</code> config file and in the <code>[autoexec]</code> section at the end, add the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">IMGMOUNT C hdd.img
BOOT C:</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now start DOSBox-X with your win2x.conf config file from the command-line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf win2x.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It should boot to the C: prompt, and you can start the installation process.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">CD INSTALL
SETUP</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>After the installation is finished, you can install your drivers and add-ons.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_windows_2_x_setup_program">Windows 2.x setup program</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The setup program will ask several question relating to mouse, display, keyboard, region and printer.</p>
</div>
<div class="paragraph">
<p>Note: the below screenshots are from the retail Windows 2.03 release, other releases can vary.
In particular, OEM or Runtime versions may have a different number of disks and present other options.</p>
</div>
<hr>
<div class="paragraph">
<p>Simply press Enter to continue as prompted.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_01.png" alt="Windows 2.03 SETUP">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Installation drive</strong></p>
</div>
<div class="paragraph">
<p>This screen is only shown on Windows 2.03. Later versions require a harddisk.</p>
</div>
<div class="paragraph">
<p>Confirm you want to install onto the hard disk (<strong>H</strong>) by pressing Enter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_02.png" alt="Windows 2.03 SETUP drive">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Installation directory</strong></p>
</div>
<div class="paragraph">
<p>You can optionally specify a different directory to install into.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Windows 2.03</strong> and <strong>Windows/286 2.1x</strong> will propose to install into <code>C:\WINDOWS</code>.</p>
</li>
<li>
<p><strong>Windows/386 2.x</strong> will propose to install into <code>C:\WIN386</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Simply press Enter when ready to use the default.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_03.png" alt="Windows 2.03 SETUP directory">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Computer Type</strong></p>
</div>
<div class="paragraph">
<p>The options offered on this screen will vary depending on the version, and edition (retail, OEM).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For <strong>Windows 2.03</strong> select the "<strong>IBM Personal System/2 Model 50, 60 or 80</strong>" option or alternatively "<strong>IBM PC, XT, AT (or 100% compatible)</strong>".</p>
</li>
<li>
<p>For <strong>Windows/286 2.1x</strong> select the "<strong>IBM Personal System/2 Model 50, 60 or 80</strong>" option or alternatively "<strong>IBM AT (or 100% compatible)</strong>".</p>
</li>
<li>
<p>For <strong>Windows/386 2.x</strong> select the "<strong>IBM Personal System/2 Model 80</strong>".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It does not seem to matter which you choose; the only difference appears to be the order that video and mouse options are presented on the following screens.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_04.png" alt="Windows 2.03 SETUP machine type">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Graphics Adapter selection</strong></p>
</div>
<div class="paragraph">
<p>Select "<strong>IBM (or 100% compatible) VGA (Video Graphics Array)</strong>" and press Enter.</p>
</div>
<div class="paragraph">
<p>Note: depending on the edition, this choice may be labelled slightly differently.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_05.png" alt="Windows 2.03 SETUP GRAPHICS">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Keyboard selection</strong></p>
</div>
<div class="paragraph">
<p>Select your desired keyboard layout, and press Enter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_06.png" alt="Windows 2.03 SETUP Keyboard">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Mouse selection</strong></p>
</div>
<div class="paragraph">
<p>Select "<strong>Microsoft Mouse connected to PS/2 Mouse Port</strong>" and press Enter to continue.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If installing Windows/386 2.01, you will need to select the <strong>Microsoft serial mouse</strong> instead and activate serial mouse support in your dosbox-x config file.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_07.png" alt="Windows 2.03 SETUP MOUSE">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Installation confirmation</strong></p>
</div>
<div class="paragraph">
<p>Confirm that the settings are correct by selecting "<strong>No Change</strong>", and pressing Enter, and windows will start the first part of the installation process.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_08.png" alt="Windows 2.03 CONFIRM">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Extended Memory Setting</strong></p>
</div>
<div class="paragraph">
<p>Starting with <strong>Windows 2.10</strong> the following screen will be presented.</p>
</div>
<div class="paragraph">
<p>Simply confirm by pressing Enter that you want EMS to be available.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.11_SETUP_01.png" alt="Windows 2.03 SETUP EMS">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Printer setup</strong></p>
</div>
<div class="paragraph">
<p>SETUP now asks if you want to set up a printer. You can press enter to confirm, or select <strong>Continue Setup</strong> to bypass printer setup.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_09.png" alt="Windows 2.03 SETUP printer">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Printer setup - select model</strong></p>
</div>
<div class="paragraph">
<p>If you indicated wanting to set up a printer, SETUP now asks you which model.</p>
</div>
<div class="paragraph">
<p>For this guide, scroll to the "<strong>Epson LQ-850 [Epson LQ 2]</strong>" (or <strong>Epson LQ-1050</strong> for wide formats), and press Enter.</p>
</div>
<div class="paragraph">
<p>Later releases may have more options, such as a "<strong>Generic / Text Only</strong>" printer which can also be used.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_10.png" alt="Windows 2.03 SETUP printer">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Printer setup - port select</strong></p>
</div>
<div class="paragraph">
<p>If you indicated wanting to set up a printer, SETUP now asks you which port the printer is connected to.</p>
</div>
<div class="paragraph">
<p>Select the "<strong>LPT1:</strong>" port and press Enter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_11.png" alt="Windows 2.03 SETUP printer port">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Printer setup - another printer</strong></p>
</div>
<div class="paragraph">
<p>SETUP now asks if you want to set up another printer.</p>
</div>
<div class="paragraph">
<p>Select the "<strong>Continue Setup</strong>" option by pressing Enter to continue without setting up another printer.</p>
</div>
<div class="paragraph">
<p>You can always change the installed printers afterwards by running <code>CONTROL.EXE</code> from within Windows.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_12.png" alt="Windows 2.03 SETUP another printer">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>Country selection</strong>
You will be asked for a country for regional settings.</p>
</div>
<div class="paragraph">
<p>Select a country from the list, and press Enter.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_13.png" alt="Windows 2.03 SETUP country">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>View Readme files</strong></p>
</div>
<div class="paragraph">
<p>You can now optionally view the README files. Select "<strong>F</strong>" and press Enter when ready.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you&#8217;re following Method 1, you can simply press Enter.</p>
</li>
<li>
<p>If you&#8217;re using disk images to install Windows, you must now swap the disk using the menu item "DOS" followed by "Swap floppy".
And then press enter.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_14.png" alt="Windows 2.03 SETUP View readme files">
</div>
</div>
<hr>
<div class="paragraph">
<p><strong>SETUP completed</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03_SETUP_15.png" alt="Windows 2.03 SETUP finished">
</div>
</div>
<div class="paragraph">
<p>The setup program is now finished, and you&#8217;re ready to start Windows 2.x.</p>
</div>
<div class="paragraph">
<p>But first type <code>EXIT</code> to close DOSBox-X.</p>
</div>
<div class="paragraph">
<p>And then edit your <code>win2x.conf</code> config file and add the following lines into the <code>[autoexec]</code> section at the end of the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">@ECHO OFF
MOUNT C /home/myuser/winroot
C:
IF EXIST C:<span class="se">\W</span>INDOWS<span class="se">\W</span>IN.COM     GOTO WINDOWS
IF EXIST C:<span class="se">\W</span>IN386<span class="se">\H</span>IMEM.SYS    GOTO WIN386
IF EXIST C:<span class="se">\W</span>IN386<span class="se">\C</span>VTPAINT.EXE GOTO WIN386
IF EXIST C:<span class="se">\W</span>IN386<span class="se">\W</span>IN86.COM    GOTO WIN386.201
ECHO No Windows installation found
GOTO END

:WINDOWS
ECHO Starting Windows 2.x
SET <span class="nv">PATH</span><span class="o">=</span>%PATH%<span class="p">;</span>C:<span class="se">\W</span>INDOWS<span class="p">;</span>
C:<span class="se">\W</span>INDOWS<span class="se">\W</span>IN.COM
GOTO END

:WIN386.201
ECHO Starting Windows/386 2.01 <span class="k">in </span>8086 mode with serial mouse
CONFIG <span class="nt">-SET</span> SERIAL <span class="nv">SERIAL1</span><span class="o">=</span>mouse
SET <span class="nv">PATH</span><span class="o">=</span>%PATH%<span class="p">;</span>C:<span class="se">\W</span>IN386
C:<span class="se">\W</span>IN386<span class="se">\W</span>IN86.COM
GOTO END

:WIN386
ECHO Starting Windows/386 2.x <span class="k">in </span>8086 mode with PS/2 mouse
SET <span class="nv">PATH</span><span class="o">=</span>%PATH%<span class="p">;</span>C:<span class="se">\W</span>IN386
C:<span class="se">\W</span>IN386<span class="se">\W</span>IN86.COM
GOTO END

:END
EXIT</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the path for mounting the C: drive as needed.
If you don&#8217;t want DOSBox-X to close when exiting Windows 2.x, remove the <code>EXIT</code> command.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_starting_windows_2_x_after_installation">Starting Windows 2.x after installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After the installation is finished, you can start Windows 2.x from the command-prompt with the below command:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can optionally create a shortcut on your desktop to start Windows 2.x directly.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf win2x.conf</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Windows:Windows_2.03.png" alt="Windows 2.03 MS-DOS Executive">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_video">Video</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the best possible video option for Windows 2.x is VGA 640x480 in 16 colours.</p>
</div>
<div class="paragraph">
<p>While there are no Windows 2.x drivers for any of SVGA adapters that DOSBox-X emulates, there is a [patch available](<a href="http://www.seasip.info/DOS/Win1/win2vesa.html" class="bare">http://www.seasip.info/DOS/Win1/win2vesa.html</a>) that can convert the Windows 2.x VGA or EGA driver to VESA 800x600 in 16 colours.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mouse">Mouse</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Windows 2.x does not use the DOS mouse driver that DOSBox-X provides.
Instead it uses its own mouse driver, which must be selected during Windows <code>SETUP</code>.
This has the effect that by default you will need to click in the DOSBox-X window to lock the mouse to the window area.</p>
</div>
<div class="paragraph">
<p>There is however experimental support in DOSBox-X for such seamless integration.
To get this working take the following steps:</p>
</div>
<div class="paragraph">
<p>Go to <a href="https://github.com/joncampbell123/doslib/releases">doslib releases</a> and download the latest binary release of doslib.
Unpack the archive, and you will find a Windows 2.0 mouse driver in the <code>windrv/dosboxpi/bin/win20</code> directory.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Copy the <code>DBOXMPI.DRV</code> and <code>OEMSETUP.INF</code> files to a place where the Windows <code>SETUP.EXE</code> program will be able to find it</p>
</li>
<li>
<p>When you run <code>SETUP.EXE</code> and get to the mouse selection, select the "Other (requires disk provided by a hardware manufacturer)" option</p>
</li>
<li>
<p>Enter the path where you saved the <code>DBOXMPI.DRV</code> and <code>OEMSETUP.INF</code> files</p>
</li>
<li>
<p>Select the "DOSBox-X Mouse Pointer Integration driver for Windows 2.0"</p>
</li>
<li>
<p>Continue the setup as normal</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, set the following options in your DOSBox-X config file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[sdl]</span>
<span class="err">mouse</span> <span class="py">emulation</span><span class="p">=</span><span class="s">integration</span>

<span class="nn">[cpu]</span>
<span class="err">integration</span> <span class="py">device</span><span class="p">=</span><span class="s">true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now when you run Windows 2.0, you should have seamless mouse support.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
These old windows versions had no support for mice with scroll wheels. By default, DOSBox-X will simulate cursor up/down keypresses when you use the scroll wheel.
This can be controlled by the <code>mouse_wheel_key=</code> setting in the <code>[sdl]</code> section of your DOSBox-X config file.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_issues">Known issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_running_windows_2_x_setup">Running Windows 2.x SETUP</h3>
<div class="paragraph">
<p>Some versions of <code>SETUP</code> seems to have a bug, where even if all installation files are on the HDD in a folder (e.g., <code>C:\INSTALL</code>), the installation will fail to find the files from for instance, the "Microsoft Windows Write and VM-Control Disk", and will ask for the disk to be inserted. The work-around here is to use something like <code>SUBST A C:\INSTALL</code> to make the installation directory contents available on the A: drive.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_windows_2_x_from_dosbox_x">Running Windows 2.x from DOSBox-X</h3>
<div class="ulist">
<ul>
<li>
<p>Windows/386 2.x versions can only be run in 8086 mode. This means launching Windows using <code>win86.com</code>. Trying to use <code>win386.exe</code> will result in an "Error: Unsupported DOS version" message.</p>
</li>
<li>
<p>Windows 2.1x versions support HMA, but this does not work by default as the HMA area is already in use. Add the setting <code>DOS=LOW</code> to the <code>[config]</code> section of the DOSBox-X configuration file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These issues can be resolved by booting real DOS in DOSBox Staging.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_windows_2_x_from_real_dos">Running Windows 2.x from real DOS</h3>
<div class="ulist">
<ul>
<li>
<p>Windows 2.x will refuse to run from DOS 5.0 or later. When using such a DOS version, it is necessary to load <code>SETVER</code> to allow Windows 2.x to run.</p>
</li>
<li>
<p>Windows 2.1x versions support HMA, but when using DOS 5.0 or later with the HIMEM.SYS driver from DOS, the HMA area is already in use. To allow Windows 2.1x to use the HMA, add the setting <code>DOS=LOW</code> to config.sys.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-05-06 20:40:11 +0800
</div>
</div>
<script src="docinfo/copy-to-clipboard.js"></script>
</body>
</html>