<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Setting up printing in DOSBox-X</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./rouge-github.css">
<link rel="stylesheet" href="./docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>Back to the <a href="Home">DOSBox-X Wiki Welcome page</a>.</p>
</div>
<div class="sect1">
<h2 id="_setting_up_printing_in_dosbox_x">Setting up printing in DOSBox-X</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_setting_up_printing_in_dosbox_x">Setting up printing in DOSBox-X</a></li>
<li><a href="#_overview">Overview</a>
<ul class="sectlevel2">
<li><a href="#_parallel_section_options">[parallel] section options</a></li>
<li><a href="#_printer_section_options">[printer] section options</a></li>
</ul>
</li>
<li><a href="#_setting_up_fonts_for_the_emulated_printer">Setting up fonts for the emulated printer</a>
<ul class="sectlevel2">
<li><a href="#_windows_host">Windows host</a></li>
<li><a href="#_linux_host">Linux host</a></li>
</ul>
</li>
<li><a href="#_example_print_to_file">Example: Print to file</a></li>
<li><a href="#_example_printing_to_a_real_printer">Example: Printing to a real printer</a>
<ul class="sectlevel2">
<li><a href="#_windows_host_method_1">Windows host, method 1</a></li>
<li><a href="#_windows_host_method_2">Windows host, method 2</a></li>
<li><a href="#_windows_host_in_combination_with_3rd_party_printing_solution">Windows host, in combination with 3rd-party printing solution</a></li>
<li><a href="#_windows_host_extended_solution_using_printfil">Windows host, extended solution using Printfil</a></li>
<li><a href="#_linux_host_2">Linux host</a></li>
</ul>
</li>
<li><a href="#_example_print_to_png_or_bmp">Example: Print to PNG or BMP</a></li>
<li><a href="#_example_print_to_postscript">Example: Print to PostScript</a></li>
<li><a href="#_example_redirect_print_output_to_a_program_on_the_host">Example: Redirect print output to a program on the host</a>
<ul class="sectlevel2">
<li><a href="#_linux_postscript_printing_example">Linux PostScript printing example</a></li>
<li><a href="#_macos_postscript_printing_example">macOS PostScript printing example</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DOSBox-X has support for printing to either a real printer, redirect to a file, or create a PNG, BMP or PostScript file.</p>
</div>
<div class="paragraph">
<p>Printer options in the DOSBox-X config file are split over two sections, <code>[parallel]</code> and <code>[printer]</code>.</p>
</div>
<div class="sect2">
<h3 id="_parallel_section_options">[parallel] section options</h3>
<div class="paragraph">
<p>This section lists the available configuration options for the <code>[parallel]</code> section that DOSBox-X provides.
They are used to configure the virtual parallel ports provided inside DOSBox-X.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Starting with DOSBox-X v0.83.20 it is possible to modify parallel port settings directly from the DOSBox-X DOS prompt with either the <code>parallel</code> or <code>config -set parallel</code> commands.
Any settings you modify this way are however lost when you restart DOSBox-X.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_parallel1">parallel1</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: printer</p>
</li>
<li>
<p>Possible values: disabled, reallpt, file, printer, disney</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This enables an emulated LPT1 port on IO base address 0x378.
Most DOS applications expect a printer on the LPT1 port.</p>
</div>
<div class="paragraph">
<p>Some values have additional parameters, which when specified, must be on the same line in the form of <code>parameter:value</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The original IBM PC with MDA or Hercules graphics card had the first printer port configured on IO base address 0x3BC, and 0x378 would then become LPT2.
This is not emulated (see <a href="https://en.wikipedia.org/wiki/Parallel_port#IBM_PC_implementation">Wikipedia</a>).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Unlike on a typical retro PC, the emulated parallel port does not use an IRQ.
Therefore, there is no resource conflict if the emulated SoundBlaster is configured for IRQ 7.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>disabled</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Disables the printer port emulation</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The parallel1 port may be auto-enabled for Disney Sound Source emulation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>reallpt</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Additional Windows options:</p>
<div class="ulist">
<ul>
<li>
<p><code>realbase</code> (the base IO address of your real parallel port).</p>
<div class="ulist">
<ul>
<li>
<p>Default: 378</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>ecpbase</code> (base IO address of the ECP registers, optional).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Additional Linux options:</p>
<div class="ulist">
<ul>
<li>
<p><code>realport</code> (the parallel port device i.e. <code>/dev/parport0</code>).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Used to specify that you want to redirect the output to a real physical port on the host PC.
You will need to use this if you have for instance a parallel port security dongle, but can be used with any parallel device supported by your dos application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This option may not work without additional steps, as this tries to do direct access to the port on the host PC, which modern operating systems will block by default.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>file</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dev:&lt;devname&gt;</code> (i.e. <code>dev:lpt1</code>) to forward data to a device</p>
</li>
<li>
<p><code>append:&lt;file&gt;</code> appends data to the specified file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Without one of the above parameters, data is written to files in the capture directory.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Additional parameters:</p>
<div class="ulist">
<ul>
<li>
<p><code>timeout:&lt;milliseconds&gt;</code> = how long to wait before closing the file on inactivity (default:500)</p>
</li>
<li>
<p><code>squote</code> squote to use single quotes instead of double quotes for quoted program commands</p>
</li>
<li>
<p><code>addFF</code> to add a formfeed when closing</p>
</li>
<li>
<p><code>addLF</code> to add a linefeed if the app doesn&#8217;t</p>
</li>
<li>
<p><code>cp:&lt;codepage number&gt;</code> to perform codepage translation, i.e. cp:437</p>
</li>
<li>
<p><code>openps:&lt;program&gt;</code> start a program to open the file if the printer output is detected to be PostScript.</p>
</li>
<li>
<p><code>openpcl:&lt;program&gt;</code> start a program to open the file if the printer output is detected to be PCL.</p>
</li>
<li>
<p><code>openwith:&lt;program&gt;</code> start a program to open the file in all other conditions.</p>
</li>
<li>
<p><code>openerror:&lt;program&gt;</code> start a program to open the file if an error had occurred.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file dev:lpt1 timeout=1000 addFF cp:437</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>printer</strong></p>
</div>
<div class="paragraph">
<p>Send to an emulated Epson dot-matrix printer.
This has its own configuration section which is documented below.</p>
</div>
<div class="paragraph">
<p><strong>disney</strong></p>
</div>
<div class="paragraph">
<p>Defines that this port has the emulated Disney Sound Source attached (Covox Voice Master and Covox Speech Thing compatible).
It requires the following lines in your config:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[speaker]</span>
<span class="py">disney</span><span class="p">=</span><span class="s">true</span>

<span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">disney</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to have Disney Sound Source emulation, you need to set <code>disney=true</code> in the <code>[speaker]</code> section.
In addition, the <code>parallel1=</code> value needs to be either set to <code>disabled</code> (will be auto-enabled for the Disney Sound Source emulation), or <code>disney</code>.
Alternatively you can move the Disney Sound Source on a different parallel port, but most games expect it on the first by default.</p>
</div>
<div class="paragraph">
<p>If you set <code>disney=true</code> and have <code>parallel1=</code> set to a different value, the Disney Sound Source emulation will not work.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parallel2">parallel2</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: disabled</p>
</li>
<li>
<p>Possible values: disabled, reallpt, file, printer, disney</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This enables an emulated LPT2 port on IO base address 0x278.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parallel3">parallel3</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: disabled</p>
</li>
<li>
<p>Possible values: disabled, reallpt, file, printer, disney</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This enables an emulated LPT3 port on IO base address 0x3BC.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parallel4_9">parallel4-9</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: disabled</p>
</li>
<li>
<p>Possible values: disabled, reallpt, file, printer, disney</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
LPT4-9 are extended LPT ports that are only supported by some applications.
You can optionally specify base addresses and IRQs for them with <code>base:</code> and <code>irq:</code> options.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_dongle">dongle</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Possible values: false, true</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When set to true, emulates an Atmel 93c46 based dongle attached to the LPT1 port. Examples of such dongles are the Rainbow Sentinel Cplus and MicroPhar.</p>
</div>
<div class="paragraph">
<p>Unfortunately this feature is rather incomplete at this time, and requires that dongle.cpp in the source code is edited and the right bytes for the dongle to be emulated are entered in the MEMORY array.
After which DOSBox-X needs to be re-compiled.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_printer_section_options">[printer] section options</h3>
<div class="paragraph">
<p>This section lists the available configuration options for the <code>[printer]</code> section of the DOSBox-X config file.</p>
</div>
<div class="paragraph">
<p>Only one Epson printer can be emulated, and it can only be connected to a single virtual parallel port.
It is also recommended for the virtual printer to configure TrueType fonts if you intend to print text.</p>
</div>
<div class="paragraph">
<p>The Virtual Printer option emulates a dot-matrix printer that follows the Epson <a href="https://en.wikipedia.org/wiki/ESC/P">ESC/P2</a> printing standard.
It also has partial support for the IBM Pro Printer, where the control codes do not conflict with the Epson control codes.</p>
</div>
<div class="paragraph">
<p>Generally speaking when looking through the list of supported printers in a DOS application, look for any Epson printer.
Epson itself suggested in some of their literature to look for printers in the following order for backward compatibility</p>
</div>
<div class="ulist">
<ul>
<li>
<p>LQ Series - Letter Quality 24-pin</p>
<div class="ulist">
<ul>
<li>
<p>B/W - LQ-870, LQ-570/570+, LQ-850+, LQ-850, LQ-510/550, LQ-200, LQ-500, LQ-2550, LQ-2500, LQ-800, LQ-1500</p>
</li>
<li>
<p>Colour - LQ-860+, LQ-860</p>
</li>
<li>
<p>Wide B/W - LQ-2180, LQ-2170/2070, LQ-1070/1070+, LQ-1170, LQ-1050+, LQ-1050, LQ-1010, LQ-1000, LQ-1500</p>
</li>
<li>
<p>Wide Colour - LQ-2550, LQ-2500</p>
</li>
</ul>
</div>
</li>
<li>
<p>FX Series</p>
<div class="ulist">
<ul>
<li>
<p>B/W - FX-880, FX-870, FX-850, FX-800, FX-85, FX-80+, FX-80</p>
</li>
<li>
<p>Wide B/W - FX-2180, FX-2170, FX-1180, FX-1170, FX-1050, FX-1000, EX-1000, FX-105, FX-100+, FX-100</p>
</li>
</ul>
</div>
</li>
<li>
<p>LX Series</p>
<div class="ulist">
<ul>
<li>
<p>B/W - LX-300, LX-810/850, LX-800, LX-80/86</p>
</li>
<li>
<p>Wide B/W - LX-1050+, LX-1050</p>
</li>
</ul>
</div>
</li>
<li>
<p>EX Series</p>
<div class="ulist">
<ul>
<li>
<p>B/W - EX-800</p>
</li>
<li>
<p>Wide B/W - EX-1000</p>
</li>
</ul>
</div>
</li>
<li>
<p>RX Series</p>
<div class="ulist">
<ul>
<li>
<p>B/W - RX-80</p>
</li>
</ul>
</div>
</li>
<li>
<p>MX Series</p>
<div class="ulist">
<ul>
<li>
<p>B/W - MX-85, MX-82, MX-80</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Starting with DOSBox-X v0.83.21 it is possible to modify emulated printer settings directly from the DOSBox-X DOS prompt with the <code>config -set printer</code> commands.
Any settings you modify this way are however lost when you restart DOSBox-X.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you&#8217;re wanting to print in landscape on US Letter or A4 paper, or in portrait on A3 paper, select a wide printer in your DOS application, as otherwise the software may not give you the possibility to configure the paper properly.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For printing in text mode it should not matter which Epson printer is selected, as DOSBox-X will use TrueType Fonts to render the text at the selected DPI. As such for text mode printing, it does not matter if a 9 or 24-pin printer is selected.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Printing to any Epson 24-pin printer in "360 x 180" or "360 x 360" mode results in corrupted output. In addition, models that should support colour output like the LQ-860/2500/2550 instead print in B/W. These appear to be issues with the Epson printer emulation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Features:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Many of the Epson ESC/P and ESC/P2 instructions are supported</p>
</li>
<li>
<p>Graphics printing for 24-pin (LQ series) and 48-pin (DLQ series) modes supported, up to 360dpi</p>
</li>
<li>
<p>Data can be output as Windows bitmap, PNG file, PostScript file, or sent to a Windows printer</p>
</li>
<li>
<p>Some older non-conflicting IBM control codes are supported</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Limitations:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Printer output in black &amp; white only</p>
</li>
<li>
<p>Not all ESC/P commands are supported, like custom fonts</p>
</li>
<li>
<p>Due to over-exact graphics emulation 360dpi printing from Windows (guest) graphics rasterising might not look as expected</p>
</li>
<li>
<p>Country code setup and other configuration switches and buttons found on a real printer are not available, this may be overcome by sending special ESC/P commands to the printer before printing</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_printer">printer</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Enables or disables Epson virtual printer emulation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dpi">dpi</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: 360</p>
</li>
<li>
<p>Possible values: 0-65535</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sets the dots-per-inch of the Epson virtual printer.</p>
</div>
</div>
<div class="sect3">
<h4 id="_width">width</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: 85</p>
</li>
<li>
<p>Possible values: 0-65535</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Width of paper in 1/10 inch for the Epson virtual printer.
The default of 85 corresponds to 8.5".</p>
</div>
<div class="paragraph">
<p>Example of the width of some standard paper sizes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paper</th>
<th class="tableblock halign-left valign-top">Orientation</th>
<th class="tableblock halign-left valign-top">Official size</th>
<th class="tableblock halign-left valign-top">DOSBox-X width setting</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Letter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Letter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.0"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">110</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Legal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Legal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.0"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">140</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">297mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">116</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">420mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">165</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">210mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">297mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">116</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">148mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">210mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Paper width for real Epson printers is limited to 257mm (10.1") for regular models and 420mm (16.5") for wide carriage models.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_height">height</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: 110</p>
</li>
<li>
<p>Possible values: 0-65535</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Height of paper in 1/10 inch for the Epson virtual printer.
The default of 110 corresponds to 11.0" (US Letter).</p>
</div>
<div class="paragraph">
<p>Example of the height of some standard paper sizes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Paper</th>
<th class="tableblock halign-left valign-top">Orientation</th>
<th class="tableblock halign-left valign-top">Official size</th>
<th class="tableblock halign-left valign-top">DOSBox-X height setting</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Letter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.0"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">110</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Letter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Legal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.0"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">140</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Legal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">85</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">420mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">165</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">297mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">116</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">297mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">116</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">210mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Portrait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">210mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">82</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Landscape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">148mm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_printoutput">printoutput</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: printer (windows host), else png</p>
</li>
<li>
<p>Possible values: png, ps, bmp, printer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output option for the Epson virtual printer.
Various output options are available:</p>
</div>
<div class="paragraph">
<p><strong>printer</strong></p>
</div>
<div class="paragraph">
<p>To send the output to a printer on a Windows host.
The Windows host print dialogue will appear when you print from a DOS application.
You can specify the default target printer with the <code>device=</code> option.</p>
</div>
<div class="paragraph">
<p><strong>png or bmp</strong></p>
</div>
<div class="paragraph">
<p>Create a PNG or BMP file with the print output.</p>
</div>
<div class="paragraph">
<p>Between PNG and BMP, PNG is a more modern format.
BMP will create larger files, due to lack of compression, while the image quality will be identical.</p>
</div>
<div class="paragraph">
<p><strong>ps</strong></p>
</div>
<div class="paragraph">
<p>Create a PostScript output file, and supports multi-page documents with the <code>multipage=</code> option.</p>
</div>
<div class="paragraph">
<p>This is typically the best option for Linux and macOS hosts, as PostScript is supported by default.
For Windows hosts it requires installing a <a href="https://www.ghostscript.com/">PostScript viewer</a>.</p>
</div>
<div class="paragraph">
<p>This format can easily be converted to PDF.</p>
</div>
</div>
<div class="sect3">
<h4 id="_multipage">multipage</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only applicable if <code>printoutput=ps</code>.</p>
</div>
<div class="paragraph">
<p>Adds all pages printed to the virtual Epson printer to one PostScript file until either a timeout, or until CTRL-F2 is pressed.
See also the <code>timeout=</code> option below.</p>
</div>
</div>
<div class="sect3">
<h4 id="_device">device</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: -</p>
</li>
<li>
<p>Possible values: <code>-</code> or device name or number</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only applicable on Windows hosts and when <code>printoutput=printer</code>.</p>
</div>
<div class="paragraph">
<p>The default value will cause you to get asked for the printer the first time you print to the virtual Epson printer after starting DOSBox-X.
Any subsequent prints will go to the same printer, until DOSBox-X is restarted.</p>
</div>
<div class="paragraph">
<p>You can use this option to specify the printer device name (or a partial name), or the device number.
From a consistency perspective it is best to specify a device name, as the device number can change due to devices being added or removed on the host.</p>
</div>
<div class="paragraph">
<p>To see the list of available devices, start DOSBox-X and open the DOS menu, followed by "List printer devices".</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">printer</span>

<span class="nn">[printer]</span>
<span class="py">printoutput</span><span class="p">=</span><span class="s">printer</span>
<span class="py">device</span><span class="p">=</span><span class="s">"Microsoft Print to PDF"</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_docpath">docpath</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: .</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The path (directory) where the output files are to be stored.
Defaults to the current working directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fontpath">fontpath</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: FONTS</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The path (directory) where the TrueType fonts (courier.ttf, ocra.ttf, roman.ttf, sansserif.ttf, script.ttf) are stored.
Defaults to the FONTS subdirectory in the current working directory (or where the DOSBox-X executable is located).</p>
</div>
<div class="paragraph">
<p>TrueType fonts are used when printing text to the virtual Epson printer. They are not used when printing in graphics mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="_printdbcs">printdbcs</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: auto</p>
</li>
<li>
<p>Possible values: true, false, auto</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Allows DOSBox-X to print Chinese/Japanese/Korean DBCS (double-byte) characters when a DBCS code pages (932: Japanese, 936: Simplified Chinese; 949: Korean; 950: Traditional Chinese) is active.</p>
</div>
<div class="paragraph">
<p>If set to auto (default), this is enabled only for the TrueType font (TTF) output with the DBCS support enabled.</p>
</div>
</div>
<div class="sect3">
<h4 id="_openwith">openwith</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: &lt;blank&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Start the specified program to open the output file.</p>
</div>
<div class="paragraph">
<p>e.g. <code>openwith=notepad</code> will open the output file with Notepad on a Windows host.</p>
</div>
<div class="paragraph">
<p>Some other examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linux host: <code>openwith=xdg-open</code> will cause the file to be opened with the application associated with the file extension</p>
</li>
<li>
<p>Windows host: <code>openwith=start</code> will cause the file to be opened with the application associated with the file extension</p>
</li>
<li>
<p>macOS host: <code>openwith=open -s "Preview"</code> will cause the file to be opened with the application associated with the file extension</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_openerror">openerror</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: &lt;blank&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Start the specified program to open the output file if an error had occurred.</p>
</div>
</div>
<div class="sect3">
<h4 id="_shellhide">shellhide</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If set, the command window will be hidden for openwith/openerror options.
Only supported on the Windows platform.</p>
</div>
</div>
<div class="sect3">
<h4 id="_timeout">timeout</h4>
<div class="ulist">
<ul>
<li>
<p>Default value: 0</p>
</li>
<li>
<p>Possible values:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Timeout (in milliseconds). Set to 1000 for a 1-second timeout.</p>
</div>
<div class="paragraph">
<p>If zero, the page will not be ejected until a form-feed is received.</p>
</div>
<div class="paragraph">
<p>Since not all DOS applications will send a form-feed, especially if you&#8217;re redirecting output, you can force a form-feed (eject page) by specifying a non-zero value.</p>
</div>
<div class="paragraph">
<p>If non-zero, it specifies the time after which the page will be ejected automatically when no more data arrives at the printer.
If the printout gets split over multiple files, increase this value.</p>
</div>
<div class="paragraph">
<p>You can also manually send a form-feed, by pressing CTRL-F2 or using the form-feed option available from the DOS menu.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_fonts_for_the_emulated_printer">Setting up fonts for the emulated printer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The emulated printer requires TrueType fonts in order to be able to print text.
If you use the TrueType font output, then the TTF font that is currently active on the screen will automatically be used for printing as well if the <code>ttf.printfont</code> option (in [render] section) is enabled (default) as of DOSBox-X version 0.83.14.</p>
</div>
<div class="paragraph">
<p>If no TTF font can be found then DOSBox-X will print with the internal (default) TTF font as used by the TrueType font output.</p>
</div>
<div class="sect2">
<h3 id="_windows_host">Windows host</h3>
<div class="paragraph">
<p>DOSBox-X will first search for fonts in the FONTS subdirectory in the current working directory or the directory where dosbox-x.exe is located.
If the fonts cannot be found, then it will search for the system fonts, as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Font file in FONTS directory</th>
<th class="tableblock halign-left valign-top">Font file in system directory</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FONTS\courier.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Windows\Fonts\cour.ttf</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FONTS\roman.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Windows\Fonts\times.ttf</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FONTS\sansserif.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Windows\Fonts\arial.ttf</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FONTS\ocra.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Windows\Fonts\Ocraext.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download <code>Ocraext.ttf</code> if not installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FONTS\script.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Windows\Fonts\freescpt.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installed by MS Office</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You are free to use suitable alternatives for these fonts, by copying them to the FONTS directory with file names mentioned in the first column of the above table.</p>
</div>
<div class="paragraph">
<p>Ocra (OCR-A) and Script (cursive) fonts may not be installed on your system.
They are however rarely needed, and can typically be ignored.
If you need them you may need to find those online.</p>
</div>
</div>
<div class="sect2">
<h3 id="_linux_host">Linux host</h3>
<div class="paragraph">
<p>DOSBox-X will first search for fonts in the ~/.config/dosbox-x/FONTS directory (or a FONTS subdirectory in the current working directory).
If the fonts cannot be found, then it will search for the fonts in the <code>/usr/share/fonts</code> directory, as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Font file in FONTS directory</th>
<th class="tableblock halign-left valign-top">Font file in system directory</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> ~/.config/dosbox-x/FONTS/courier.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/share/fonts/liberation-mono/LiberationMono-Regular.ttf</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> ~/.config/dosbox-x/FONTS/roman.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/share/fonts/liberation-serif/LiberationSerif-Regular.ttf</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> ~/.config/dosbox-x/FONTS/sansserif.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/share/fonts/liberation-sans/LiberationSans-Regular.ttf</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> ~/.config/dosbox-x/FONTS/ocra.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/share/fonts/Ocraext.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download <code>Ocraext.ttf</code> if not installed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code> ~/.config/dosbox-x/FONTS/script.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/share/fonts/freescpt.ttf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download a Script (cursive) font</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You are free to use suitable alternatives for these fonts, by copying them to the FONTS directory with file names mentioned in the first column of the above table.</p>
</div>
<div class="paragraph">
<p>Ocra (OCR-A) and Script (cursive) fonts may not be installed on your system.
They are however rarely needed, and can typically be ignored.
If you need them you may need to find those online.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_print_to_file">Example: Print to file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this example the output of a DOS command or application is simply redirected to the virtual LPT port in DOSBox-X, which in turn will be redirected to a file on the host.</p>
</div>
<div class="paragraph">
<p>This is useful if you&#8217;re printing just simple text, as the file on the host will contain the exact text.</p>
</div>
<div class="paragraph">
<p>If the application expects a printer that can do more than just simple text, and sends control codes for that printer, the file will also contain those control codes.</p>
</div>
<div class="paragraph">
<p>This can actually be useful, if you select a PostScript or HP PCL printer in the DOS application, as the resulting file will be a PostScript or HP PCL file which can be opened on the host with an appropriate application.</p>
</div>
<div class="paragraph">
<p>In this example, set up a DOSBox-X config file with the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[dosbox]</span>
<span class="py">captures</span><span class="p">=</span><span class="s">capture</span>

<span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>No <code>[printer]</code> section is needed for this example, as we are not emulating a printer.</p>
</div>
<div class="paragraph">
<p>Now start DOSBox-X, and on the DOSBox-X command prompt type the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>DIR &gt; LPT1:</pre>
</div>
</div>
<div class="paragraph">
<p>The above will cause a <code>capture\dosbox_000.prt</code> ASCII text file to be created.
The exact save location is dependent on the <code>captures=</code> setting in the <code>[dosbox]</code> section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you booted real DOS, or Windows 9x in DOSBox-X the output filename will be <code>guest os_000.prt</code> instead.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_printing_to_a_real_printer">Example: Printing to a real printer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_windows_host_method_1">Windows host, method 1</h3>
<div class="paragraph">
<p>It will cause a Windows print dialogue to appear on the host, and you can print to any printer configured on the host, including print to PDF.</p>
</div>
<div class="paragraph">
<p>Make sure your DOSBox-X config file contains the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">printer</span>

<span class="nn">[printer]</span>
<span class="py">printer</span><span class="p">=</span><span class="s">true</span>
<span class="py">printoutput</span><span class="p">=</span><span class="s">printer</span>
<span class="py">timeout</span><span class="p">=</span><span class="s">1000</span>
<span class="py">device</span><span class="p">=</span><span class="s">-</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In DOSBox-X you can now simply redirect output to LPT1, or in DOS applications configure one of the Epson printers listed above.
The printer dialogue will show up after a printer selection is made.
If you want the printer selection to show up every time for printing to LPT1, please leave the "device" empty.</p>
</div>
</div>
<div class="sect2">
<h3 id="_windows_host_method_2">Windows host, method 2</h3>
<div class="paragraph">
<p>This assumes you PC still has a parallel printer port integrated on the system board, or has a legacy ISA parallel printer adapter.
It reportedly will not work with either USB parallel printer adapters or PCI parallel printer port adapters.</p>
</div>
<div class="paragraph">
<p>Also note that the output is sent verbatim from the DOS application to the printer, without any filtering or conversion.
Therefore, it is important that the printer can understand the printer control codes that are being sent by the application.
In practice this means that this method is only really meant for situations where you have a legacy printer, or are perhaps only sending pure text.</p>
</div>
<div class="paragraph">
<p>Make sure your DOSBox-X config file contains the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file dev:lpt1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively you can try to set it up as follows, but this only works if your host is running Windows 9x, or with later Windows versions by installing "PortTalk".
PortTalk is needed because direct port access is no longer permitted with more modern Windows versions.
The last Windows version supported by PortTalk is Windows XP (32-bit).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">reallpt directlpt:378</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_windows_host_in_combination_with_3rd_party_printing_solution">Windows host, in combination with 3rd-party printing solution</h3>
<div class="paragraph">
<p>In addition to relying entirely on the built-in printing methods, DOSBox-X can also work in combination with external third-party printing solutions like <a href="https://www.printfil.com/">Printfil</a>, <a href="http://www.dosprn.com/">DOSPRN</a>, or <a href="https://sourceforge.net/projects/winprint/">WinPrint</a> (open-source).
Both Printfil and DOSPRN are shareware applications that specifically list DOSBox-X as supported for printing to any printer configured on the Windows host system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_windows_host_extended_solution_using_printfil">Windows host, extended solution using Printfil</h3>
<div class="paragraph">
<p>According to its description, Printfil allows text-based applications to print to any Windows printer, including USB, network printers, fax modems and PDF writers, without any changes to the original applications.
You can set your application to print to an ASCII file, or have Printfil capturing a parallel port (PRN: and from LPT1: to LPT9:) or serial port (from COM1: to COM9:), automatically redirecting your print jobs to any printer.</p>
</div>
<div class="paragraph">
<p>Printfil has implemented official support for integration with DOSBox-X since version 5.27.
In addition to automatic printer handling via printing ports, it also supports additional features such as print preview, background image inclusion, text colorization, direct PDF and emailing.
You can find the main features of Printfil in <a href="https://www.printfil.com/edesc.htm">its feature list page</a>.
Once configured, there is no additional setup needed for printing support on the DOSBox-X side.</p>
</div>
<div class="paragraph">
<p>You can select the port to capture (e.g. LPT1) and the printer to use (e.g. Microsoft Print to PDF) from its configuration window.
Printfil will automatically detect DOSBox-X if it is installed in the default path (C:\DOSBox-X), and ask whether to capture the selected port for DOSBox-X.
If you answer Yes, then the specified printing port(s) will be automatically captured in future DOSBox-X sessions.
Below is a screenshot of its configuration window.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Printfil_configuration_window.png" alt="The Printfil configuration window">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_linux_host_2">Linux host</h3>
<div class="paragraph">
<p>First you need to give your Linux user access to the parallel printer port on the Linux host, otherwise you will get permission denied errors.</p>
</div>
<div class="paragraph">
<p>Replace "username" in the example below with your own Linux username.
This will make your user a member of the "lp" group, which is a group that on most (all?) Linux distributions should have the necessary access to the parallel port.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">sudo usermod -a -G lp username</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure your DOSBox-X config file contains the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">reallpt realport:/dev/parport0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This has been confirmed to work.
Alternatively you can try to set it up as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file dev:/dev/parport0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>But while using this later method seems to work on Windows, according to one report, it does not seem to work properly on Linux.</p>
</div>
<div class="paragraph">
<p>The output is sent verbatim to the printer, so the printer needs to be able to understand any control codes the DOS application sends.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In the case of a real parallel port, the first port will be <code>/dev/parport0</code>, but in the case of a USB parallel port adapter it will be <code>/dev/usblp0</code>, but it is unclear if a USB parallel port adapter will work.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
On Linux there has been some success with using a StarTech PEX1P2 PCIe parallel port adapter. But it is necessary to first do a <code>modprobe parport_pc</code> which will create the necessary <code>/dev/parport0</code> device.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_print_to_png_or_bmp">Example: Print to PNG or BMP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This method prints to a PNG or BMP image file.</p>
</div>
<div class="paragraph">
<p>Make sure your DOSBox-X config file contains the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">printer</span>

<span class="nn">[printer]</span>
<span class="py">printer</span><span class="p">=</span><span class="s">true</span>
<span class="py">printoutput</span><span class="p">=</span><span class="s">png</span>
<span class="py">timeout</span><span class="p">=</span><span class="s">1000</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example uses PNG, but you can simply change it to <code>printoutput=bmp</code> if you prefer.
But note that BMP files will be much larger than PNG files, while the image quality will be identical.</p>
</div>
<div class="paragraph">
<p>In DOSBox-X you can now simply redirect output to LPT1, or in DOS applications configure one of the printers listed above.</p>
</div>
<div class="paragraph">
<p>The output will be saved as <code>page1.png</code> or <code>page1.bmp</code> in the current directory, and incremented if it already exists.
Alternatively you can specify a different directory using the <code>docpath=</code> setting as documented above.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_print_to_postscript">Example: Print to PostScript</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This method prints to a PostScript (PS) image file, which can be easily converted to PDF.</p>
</div>
<div class="paragraph">
<p>Make sure your DOSBox-X config file contains the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">printer</span>

<span class="nn">[printer]</span>
<span class="py">printer</span><span class="p">=</span><span class="s">true</span>
<span class="py">printoutput</span><span class="p">=</span><span class="s">ps</span>
<span class="py">multipage</span><span class="p">=</span><span class="s">true</span>
<span class="py">timeout</span><span class="p">=</span><span class="s">1000</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In DOSBox-X you can now simply redirect output to LPT1, or in DOS applications configure one of the printers listed above.</p>
</div>
<div class="paragraph">
<p>The output will be saved as <code>page1.ps</code> in the current working directory, and incremented if it already exists.
Alternatively you can specify a different directory using the <code>docpath=</code> setting as documented above.</p>
</div>
<div class="paragraph">
<p>The <code>multipage=true</code> setting is specific to PostScript output, and prevents a separate PostScript file from being generated for each printed page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_redirect_print_output_to_a_program_on_the_host">Example: Redirect print output to a program on the host</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the <code>[parallel]</code> section for the parallel1-9 config options you can use the <code>file</code> option to direct the output to a file, which can then optionally be opened by the specified application on the host.
This application can then be used to view the output, and possibly print it or be used to convert the output to something like PDF with a PDF printer.</p>
</div>
<div class="paragraph">
<p>The options available are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>openps:&lt;program&gt;</code> start a program to open the file if the printer output is detected to be PostScript.</p>
</li>
<li>
<p><code>openpcl:&lt;program&gt;</code> start a program to open the file if the printer output is detected to be HP PCL.</p>
</li>
<li>
<p><code>openwith:&lt;program&gt;</code> start a program to open the file in all other conditions.</p>
</li>
<li>
<p><code>openerror:&lt;program&gt;</code> start a program to open the file if an error had occurred.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>e.g. when running DOSBox-X on a Windows host:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file file:output.prn timeout:2000 openpcl:pcl6 openps:gswin32c openwith:notepad</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will cause any output to LPT1 to be written to <code>output.prn</code>, and if the output is determined to be PCL, it will be opened with a "pcl6" application, or if it is PostScript, it will be opened with <a href="https://www.ghostscript.com/">GhostScript</a> (gswin32c.exe), while for other filetypes it will be opened in notepad.</p>
</div>
<div class="paragraph">
<p>If you need to pass additional parameters to the application you can either enclose the command with quotes and add the parameters. e.g. <code>openwith:"program arg1 arg2"</code>, the printer file will be added as a final parameter.
If this is not flexible enough, for instance because you need to have the printer filename in the middle of other parameters, then create a shell script or batch file with a content similar to <code>program arg1 %1 arg2</code>, and call this shell script/batch file instead of the program directly.</p>
</div>
<div class="paragraph">
<p>Keep in mind that the output file will be created in your current working directory, if you don&#8217;t specify a path.</p>
</div>
<div class="sect2">
<h3 id="_linux_postscript_printing_example">Linux PostScript printing example</h3>
<div class="paragraph">
<p>In this example, it is assumed that you&#8217;re printing to a PostScript printer in your DOS application.
This should give you the highest quality output, and depending on the application, you may even get colour by selecting a colour PostScript printer.
The output is saved to a file on the host, to the directory specified with the <code>captures=</code> option, and when the file is closed (when no output is received for 2 seconds), the file will be opened using xdg-open such that it can be viewed and printed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[dosbox]</span>
<span class="py">captures</span><span class="p">=</span><span class="s">capture</span>

<span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file file:output.ps timeout:2000 openps:xdg-open</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_macos_postscript_printing_example">macOS PostScript printing example</h3>
<div class="paragraph">
<p>Similar to the Linux example above, but here the macOS Preview application is used to open the PostScript file, from where it can be viewed and printed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[dosbox]</span>
<span class="py">captures</span><span class="p">=</span><span class="s">capture</span>

<span class="nn">[parallel]</span>
<span class="py">parallel1</span><span class="p">=</span><span class="s">file file:output.ps timeout:2000 squote openps:'open -s "Preview"'</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-05-06 21:06:49 +0800
</div>
</div>
<script src="./docinfo/copy-to-clipboard.js"></script>
</body>
</html>