<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>PC-98 emulation in DOSBox-X</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./rouge-github.css">
<link rel="stylesheet" href="./docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>Back to the <a href="Home">DOSBox-X Wiki Welcome page</a>.</p>
</div>
<div class="sect1">
<h2 id="_pc_98_emulation_in_dosbox_x">PC-98 emulation in DOSBox-X</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_pc_98_emulation_in_dosbox_x">PC-98 emulation in DOSBox-X</a>
<ul class="sectlevel2">
<li><a href="#_start_pc_98_emulation">Start PC-98 emulation</a></li>
<li><a href="#_pc_98_font_and_accessory_files">PC-98 font and accessory files</a></li>
<li><a href="#_pc_98_config_settings">PC-98 config settings</a></li>
<li><a href="#_running_pc_98_games_or_applications">Running PC-98 games or applications</a></li>
</ul>
</li>
<li><a href="#_external_links">External links</a></li>
</ul>
</div>
<div class="paragraph">
<p>Since DOSBox-X aims to be complete DOS emulation package, it officially supports the emulations of the Japanese PC-98 system, which used MS-DOS with modifications to support the PC-98 BIOS and Japanese characters. The NEC PC-9800, also known as the PC-98, were a family of computers made by NEC and sold in Japan throughout 1982 to 2000. Most of the PC-98 software are games, but there are also non-gaming PC-98 applications such as the PC-98 version of Windows 3.1 released by Microsoft. While these were originally designed for the Japanese market, international users who are influenced by the Japanese culture may also want to check this out. For example, earlier Touhou games are PC-98 games, which are well-supported by DOSBox-X&#8217;s PC-98 system.</p>
</div>
<div class="paragraph">
<p>As of DOSBox-X version 0.83.15, DOSBox-X also supports native DOS/V services and JEGA (AX) emulations so that you can also run programs or games designed for them in these modes. You can activate these modes with the appropriate config options. See the <a href="Guide%3AEast-Asian-language-support-in-DOSBox‐X">East Asian language support guide page</a> for more information.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://upload.wikimedia.org/wikipedia/zh/3/35/Th04cover.jpg" alt="PC-98 Touhou game: 東方幻想郷 〜 Lotus Land Story">
</div>
</div>
<div class="paragraph">
<p>(PC-98 Touhou game: 東方幻想郷 〜 Lotus Land Story)</p>
</div>
<div class="sect2">
<h3 id="_start_pc_98_emulation">Start PC-98 emulation</h3>
<div class="paragraph">
<p>By default, DOSBox-X starts the standard IBM-compatible DOS system, not the PC-98 system. But you can specify a different system to start with the "machine" option in DOSBox-X&#8217;s configuration file (dosbox-x.conf by default), which offers system types including PC-98. So if you set "machine" to "pc98" (or "pc9801"/"pc9821" which are synonyms for "pc98" at this time), then DOSBox-X will start in the PC-98 emulation mode.</p>
</div>
<div class="paragraph">
<p>Alternative you can specify the PC-98 machine type directly at the command line when starting DOSBox-X, such as <code>dosbox-x -set machine=pc98</code>, which will immediately start DOSBox-X in the PC-98 emulation mode regardless of the settings in the DOSBox-X config file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pc_98_font_and_accessory_files">PC-98 font and accessory files</h3>
<div class="paragraph">
<p>You can start DOSBox-X in PC-98 mode without any additional files apart from the DOSBox-X executable itself. Note, however, that in order for DOSBox-X to display Japanese characters (Kana, Kanji, etc.) correctly you may need to supply a font file. This becomes optional starting with DOSBox-X version 0.83.15 (the internal Japanese DOS/V font will be used if no other font found, unless the TrueType font output is used, see below), but it is still recommended using a font file specifically designed for PC-98. You can either use the original PC-98 <code>FONT.ROM</code> ROM file, or use the free alternative <code>FREECG98.BMP</code> included with DOSBox-X. Put the <code>FREECG98.BMP</code> file or the original PC-98 <code>FONT.ROM</code> file in the DOSBox-X directory, then DOSBox-X will render Japanese texts in the PC-98 mode using this font (if both <code>FREECG98.BMP</code> and <code>FONT.ROM</code> files are found in the directory then the latter will be used):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>FREECG98.BMP: <a href="https://github.com/joncampbell123/dosbox-x/blob/master/contrib/fonts/FREECG98.BMP?raw=true">Download here</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also specify a different Anex98-compatible font file with <code>pc-98 anex86 font</code> option in [pc98] section of the DOSBox-X config file.</p>
</div>
<div class="paragraph">
<p>If you want to use the TrueType font (TTF) output option (i.e. with <code>output=ttf</code>), then you will need a Japanese TrueType font for PC-98 mode. For example, you can use any of the Japanese TrueType fonts from the Migu or M+ P families:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Migu 1M Regular: <a href="https://github.com/chrissimpkins/codeface/blob/master/cjk-fonts/migu1m/migu-1m-regular.ttf?raw=true">Download here</a></p>
</li>
<li>
<p>Migu 2M Regular: <a href="https://github.com/chrissimpkins/codeface/blob/master/cjk-fonts/migu2m/migu-2m-regular.ttf?raw=true">Download here</a></p>
</li>
<li>
<p>M+ P Type-1 Regular: <a href="https://github.com/chrissimpkins/codeface/blob/master/cjk-fonts/mplus1m/mplus-1m-regular.ttf?raw=true">Download here</a></p>
</li>
<li>
<p>M+ P Type-2 Regular: <a href="https://github.com/chrissimpkins/codeface/blob/master/cjk-fonts/mplus2m/mplus-2m-regular.ttf?raw=true">Download here</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>SarasaGothicFixed.ttf</code> and <code>UnifontFullMediumMono.ttf</code> font files are also available in the DOSBox-X repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sarasa-Gothic Fixed: <a href="https://github.com/joncampbell123/dosbox-x/blob/master/contrib/fonts/SarasaGothicFixed.ttf?raw=true">Download here</a></p>
</li>
<li>
<p>UnifontFullMediumMono: <a href="https://github.com/joncampbell123/dosbox-x/blob/master/contrib/fonts/UnifontFullMediumMono.ttf?raw=true">Download here</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specify the desired Japanese TrueType font with the <code>font</code> config option in [ttf] section for the TTF output, and then DOSBox-X will render the PC-98 text screen using this TTF font.</p>
</div>
<div class="paragraph">
<p>Apart from the <code>FONT.ROM</code> ROM image file mentioned above, there is another PC-98 ROM file named <code>SOUND.ROM</code> which is the ROM image of the PC-98 FM board, which may be needed by some PC-98 games to make music and sound effects. Both of these ROM images can be found online.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pc_98_config_settings">PC-98 config settings</h3>
<div class="paragraph">
<p>There are quite a few PC-98 related options in the DOSBox-X config file, such as the options to enable or disable EGC and GRCG graphical functions. These config options can be found in the [pc98] section of the DOSBox-X config file, and many of them can also be toggled in the "PC-98 options" menu group under the "Video" menu. The following config options can be found in the dosbox-x.reference.conf file, while more advanced options can be found in the dosbox-x.reference.full.conf file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>pc-98 BIOS copyright string</p>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>If set, the PC-98 BIOS copyright string is placed at E800:0000. Enable this for software that detects PC-98 vs Epson.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 fm board</p>
<div class="ulist">
<ul>
<li>
<p>Default value: auto</p>
</li>
<li>
<p>Possible values: auto, off, false, board14, board26k, board86, board86c</p>
</li>
<li>
<p>Select the FM music board to emulate in PC-98 mode.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 enable 256-color</p>
<div class="ulist">
<ul>
<li>
<p>Default value: true</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>Allow 256-color graphics mode if set, disable if not set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 enable 16-color</p>
<div class="ulist">
<ul>
<li>
<p>Default value: true</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>Allow 16-color graphics mode if set, disable if not set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 enable grcg</p>
<div class="ulist">
<ul>
<li>
<p>Default value: true</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>Allow GRCG graphics functions if set, disable if not set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 enable egc</p>
<div class="ulist">
<ul>
<li>
<p>Default value: true</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>Allow EGC graphics functions if set, disable if not set.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 bus mouse</p>
<div class="ulist">
<ul>
<li>
<p>Default value: true</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>Enable PC-98 bus mouse emulation. Disabling this option does not disable INT 33h emulation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 force ibm keyboard layout</p>
<div class="ulist">
<ul>
<li>
<p>Default value: auto</p>
</li>
<li>
<p>Possible values: true, false, auto</p>
</li>
<li>
<p>Force to use a default keyboard layout like IBM US-English for PC-98 emulation. Works with PC-98 software using BIOS for keyboard.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 try font rom</p>
<div class="ulist">
<ul>
<li>
<p>Default value: true</p>
</li>
<li>
<p>Possible values: true, false</p>
</li>
<li>
<p>If enabled, DOSBox-X will first try to load FONT.ROM as generated by T98Tools for PC-98 emulation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>pc-98 anex86 font</p>
<div class="ulist">
<ul>
<li>
<p>Default value:</p>
</li>
<li>
<p>Specify an Anex86 compatible font to load as supported by the Anex86 emulator for PC-98 emulation. By default, DOSBox-X tries to load ANEX86.BMP followed by FREECG98.BMP after trying to load FONT.ROM. If you specify a font here then it will be tried first, perhaps before FONT.ROM (see previous option).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You may not need to change most config options for PC-98 mode, although you may want to take a look at the last one <code>pc-98 anex86 font</code> if you want to specify a different font for PC-98, and/or <code>pc-98 force ibm keyboard layout</code> if you are not a Japanese user. As of DOSBox-X version 0.83.15, DOSBox-X will decide whether to use the Japanese keyboard layout or the U.S. keyboard layout for the PC-98 emulation based on its detection of user&#8217;s keyboard layout by default, but for earlier versions DOSBox-X always defaulted to the Japanese keyboard layout since PC-98 system was originally designed for the Japanese market, and users outside Japan who want to use the PC-98 system may want to change the setting to the default U.S. keyboard layout instead, which can be done by setting <code>pc-98 force ibm keyboard layout</code> to <code>true</code>, or it may be enabled via the <code>Use US keyboard layout</code> menu option in the "PC-98 options" menu group. With this enabled you will be able to use DOSBox-X&#8217;s PC-98 system more easily with the standard U.S. keyboard layout.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_pc_98_games_or_applications">Running PC-98 games or applications</h3>
<div class="paragraph">
<p>Once you are in DOSBox-X&#8217;s PC-98 system, you can start preparing for playing PC-98 games or running PC-98 applications. First you need to mount a drive for use with PC-98 games or applications. The drive can be mounted either from a drive or directory in the host system, or from a disk image. In general mounting drives in PC-98 mode follows the same procedures as in DOSBox-X&#8217;s standard mode, although disk images for PC-98 systems may come with HDI or FDD formats rather than the IMG format which is typically seen in a standard system. In any case you can mount the drives with either MOUNT or IMGMOUNT command as usual, or it can be done from the "Drive" menu.</p>
</div>
<div class="paragraph">
<p>An example of using MOUNT command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MOUNT C C:\PC98</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An example of using IMGMOUNT command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">IMGMOUNT C D:\PC98.HDI</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once a drive is mounted, you can enter the drive directory and start the desired game or application, or boot from the drive in the case of bootable disk images. The actual steps are also similar to how they are done in DOSBox-X&#8217;s standard system. For example, you can install and run the PC-98 version of Windows 3.1 in DOSBox-X&#8217;s PC-98 system the same way as you install and run the standard version of Windows 3.1 in DOSBox-X&#8217;s default machine type.</p>
</div>
<div class="sect3">
<h4 id="_example_touhou_games_in_dosbox_x">Example: Touhou games in DOSBox-X</h4>
<div class="imageblock">
<div class="content">
<img src="https://upload.wikimedia.org/wikipedia/zh/4/46/Mystic_Square.png" alt="The 5th Touhou game: 東方怪綺談 〜 Mystic Square">
</div>
</div>
<div class="paragraph">
<p>(The 5th Touhou game: 東方怪綺談 〜 Mystic Square)</p>
</div>
<div class="paragraph">
<p>The Touhou games are a series of bullet shooting games that are especially famous in the Doujin world. The first five games were targeted for PC-98, so you can actually run them in DOSBox-X&#8217;s PC-98 mode.</p>
</div>
<div class="paragraph">
<p>Assuming you have the HDI images for any of these Touhou games, you can mount them as the C drive and then either start the game directly or boot from the drive. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">IMGMOUNT C TOUHOU1.HDI
C:
GAME</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or boot from the drive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">IMGMOUNT C TOUHOU1.HDI
BOOT C:</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_external_links">External links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some external links with useful information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/PC-9800_series">Wikipedia: PC-9800 series</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Touhou_Project#PC-98_games">Wikipedia: Touhou Project - PC-98 games</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
<script src="./docinfo/copy-to-clipboard.js"></script>
</body>
</html>