<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Setting up networking in DOSBox-X</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./rouge-github.css">
<link rel="stylesheet" href="./docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>Back to the <a href="Home">DOSBox-X Wiki Welcome page</a>.</p>
</div>
<div class="sect1">
<h2 id="_setting_up_networking_in_dosbox_x">Setting up networking in DOSBox-X</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_setting_up_networking_in_dosbox_x">Setting up networking in DOSBox-X</a></li>
<li><a href="#_overview">Overview</a></li>
<li><a href="#_ne2000_resource_usage">NE2000 resource usage</a></li>
<li><a href="#_ne2000_config_options">[ne2000] config options</a>
<ul class="sectlevel2">
<li><a href="#_ne2000">ne2000</a></li>
<li><a href="#_nicbase">nicbase</a></li>
<li><a href="#_nicirq">nicirq</a></li>
<li><a href="#_macaddr">macaddr</a></li>
</ul>
</li>
<li><a href="#_selecting_a_back_end_for_ne2000">Selecting a back-end for NE2000</a>
<ul class="sectlevel2">
<li><a href="#_backendpcap">backend=pcap</a></li>
<li><a href="#_backendslirp">backend=slirp</a></li>
</ul>
</li>
<li><a href="#_setup_guide_for_linux_hosts">Setup guide for Linux hosts</a>
<ul class="sectlevel2">
<li><a href="#_install_libpcap_andor_libslirp">Install libpcap and/or libslirp</a></li>
<li><a href="#_check_if_your_dosbox_x_binary_supports_networking">Check if your DOSBox-X binary supports networking</a></li>
<li><a href="#_setup_permissions_for_pcap">Setup permissions for PCAP</a></li>
<li><a href="#_locate_host_network_interface_for_pcap">Locate host network interface for PCAP</a></li>
</ul>
</li>
<li><a href="#_setup_guide_for_windows_hosts">Setup guide for Windows hosts</a>
<ul class="sectlevel2">
<li><a href="#_install_pcap">Install PCAP</a></li>
<li><a href="#_locate_host_network_interface">Locate host network interface</a></li>
</ul>
</li>
<li><a href="#_mtcp_example">mTCP example</a>
<ul class="sectlevel2">
<li><a href="#_common_problem_invalid_mac_address">Common problem: Invalid MAC Address</a></li>
<li><a href="#_common_problem_cannot_get_dhcp_lease">Common problem: Cannot get DHCP lease</a></li>
<li><a href="#_common_problem_multiple_dosbox_x_instances">Common problem: Multiple DOSBox-X instances</a></li>
</ul>
</li>
<li><a href="#_ipx_example">IPX example</a>
<ul class="sectlevel2">
<li><a href="#_using_dosbox_x_integrated_ipx_support">Using DOSBox-X integrated IPX support</a></li>
<li><a href="#_using_the_netware_16_bit_dos_client">Using the NetWare 16-bit DOS Client</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DOSBox-X has support for emulating the Novell NE2000 network adapter through the use of either PCAP or SLIRP back-end. This guide describes how to set it up and also tries to simplify the process for users.</p>
</div>
<div class="paragraph">
<p>Apart from NE2000 networking, DOSBox-X also has integrated IPX support and network redirector functions. In Windows builds of
DOSBox-X version 0.83.15 or higher, you can directly access or browse network resources using UNC network paths in the form \\MACHINE\FOLDER using DOS commands (such as DIR, MD and COPY) when the network redirector feature is not disabled.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ne2000_resource_usage">NE2000 resource usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the emulated NE2000 will use IRQ 3 and IO range 300-31F.
This is typical of a real NE2000 adapter, and some NE2000 drivers will look there by default.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
DOSBox-X does not support PnP for the NE2000, meaning that Windows 95, 98 and ME may not autodetect it, and even if they do, they may assume the wrong resources.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The problem lies in the fact that, IRQ 3 is also used for COM2, and therefore they conflict.
Most software will work regardless of the conflict, as long as you&#8217;re not actually using COM2.
But some software, notably Windows 95, 98 and ME may complain about a resource conflict.</p>
</div>
<div class="paragraph">
<p>As such it is recommended to either move the emulated NE2000 adapter to a different IRQ, or to disable COM2.
In the below examples the emulated NE2000 is set to IRQ10 using the <code>nicirq=</code> setting, to resolve the conflict.
But you need to ensure that any NE2000 device drivers that are loaded, are also set to look for it at the same resources.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Setting the NE2000 to IRQ 10 is not possible if you&#8217;re emulating a 8086 (<code>machine=8086</code>), as they only have IRQ 0-7 available. In that case it is probably better to disable COM2.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to instead disable COM2, and leave the emulated NE2000 at its default resources, add the following to you DOSBox-X config file.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[serial]
serial2=disabled</pre>
</div>
</div>
<div class="paragraph">
<p>To enable networking you first need to enable NE2000 adapter emulation in your DOSBox-X config file and select an appropriate back-end for the NE2000 emulation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ne2000_config_options">[ne2000] config options</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ne2000">ne2000</h3>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Valid values: true, false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This setting enables or disables the NE2000 emulation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_nicbase">nicbase</h3>
<div class="ulist">
<ul>
<li>
<p>Default value: 300</p>
</li>
<li>
<p>Valid values: 200, 220, 240, 260, 280, 2C0, 300, 320, 340, 360</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is the IO base address of the emulated NE2000 adapter.
You may sometimes see the base address written as 0x300 which means hex 300.</p>
</div>
<div class="paragraph">
<p>It will require 32bits, starting at the defined base address.
So for the default base value of 300 the full IO range used is actually 300-31F.</p>
</div>
</div>
<div class="sect2">
<h3 id="_nicirq">nicirq</h3>
<div class="ulist">
<ul>
<li>
<p>Default value: 3</p>
</li>
<li>
<p>Valid values: 3, 4, 5, 9, 10, 11, 12, 14, 15</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is the IRQ (Interrupt Request Level) of the emulated NE2000 adapter.</p>
</div>
<div class="paragraph">
<p>You cannot just select a random value as many IRQs are already pre-assigned to various devices. e.g.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IRQ3 to COM2 serial port (enabled by default in DOSBox-X)</p>
</li>
<li>
<p>IRQ4 to COM1 serial port (enabled by default in DOSBox-X)</p>
</li>
<li>
<p>IRQ5 <strong>may</strong> be assigned to the sound card (not the case by default in DOSBox-X)</p>
</li>
<li>
<p>IRQ9 is an alias from IRQ2 but should be safe to use</p>
</li>
<li>
<p>IRQ10 free</p>
</li>
<li>
<p>IRQ11 free</p>
</li>
<li>
<p>IRQ12 used by the PS/2 mouse emulation</p>
</li>
<li>
<p>IRQ14 used by the primary IDE/ATA emulation</p>
</li>
<li>
<p>IRQ15 used by the secondary IDE/ATA emulation (usually CD-ROM drive)</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The default IRQ value (3) conflicts with the emulated COM2 port that is enabled by default.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If you&#8217;re emulating a 8086 CPU machine type, the valid IRQ needs to be in the range of 0-7, which in this case effectively means 3, 4 or 5. This is because the 8086 only had a single PIC (Programmable Interrupt Controller), while later machines had two.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_macaddr">macaddr</h3>
<div class="ulist">
<ul>
<li>
<p>Default value: AC:DE:48:88:99:AA</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is the MAC address of the emulated NE2000 adapter.
Only one instance of a MAC address may exist on a network.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If you want to run multiple DOSBox-X instances on the same network, you MUST ensure they all have a different MAC address.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The first 3 bytes are known as the OUI (Organisational Unique Identifier), and typically represent the network card manufacturer.
The <strong>AC:DE:48</strong> OUI used by default, is a special private range, and it is recommended that you use this range.</p>
</div>
<div class="paragraph">
<p>The last 3 bytes can be freely chosen. Each byte can range from 00 to FF.</p>
</div>
<div class="paragraph">
<p>Some examples of valid alternative MAC addresses with the same OUI:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AC:DE:48:11:22:33</p>
</li>
<li>
<p>AC:DE:48:AA:BB:CC</p>
</li>
<li>
<p>AC:DE:48:1D:2E:3F</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_selecting_a_back_end_for_ne2000">Selecting a back-end for NE2000</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting with DOSBox-X 0.83.12 there are two different back-ends to the NE2000 adapter emulation, namely pcap and slirp.
The default is <code>backend=auto</code>, which implies <code>backend=slirp</code> if SLIRP support is available, otherwise <code>backend=pcap</code> is implied if PCAP support is available.</p>
</div>
<div class="sect2">
<h3 id="_backendpcap">backend=pcap</h3>
<div class="paragraph">
<p>The PCAP back-end uses something called "<a href="https://en.wikipedia.org/wiki/Promiscuous_mode">Promiscuous mode</a>".
This has the advantage that applications in DOSBox-X can use various legacy network protocols, such as <a href="https://en.wikipedia.org/wiki/IPX/SPX">IPX/SPX</a> and <a href="https://en.wikipedia.org/wiki/NetBIOS_Frames">NetBIOS Frames</a> (aka NetBEUI) in addition to TCP/IP.
This mode not only allows communication between different DOSBox-X instances on the same network, but also with legacy PCs on the same network.</p>
</div>
<div class="paragraph">
<p>However, for this to work DOSBox-X needs to have very low level access to your real network adapter.
In some cases this is not possible, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Network Adapter or Driver not supporting Promiscuous mode (most wireless adapters fall into this category)</p>
</li>
<li>
<p>Your Ethernet switch not allowing multiple MAC addresses on a single port, or doing any kind of MAC address whitelisting.</p>
</li>
<li>
<p>Sandboxed versions of DOSBox-X (e.g. Flatpak) not allowing the required low-level access</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To enable NE2000 emulation with the pcap back-end, add the following to your DOSBox-X config file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>
<span class="py">backend</span><span class="p">=</span><span class="s">pcap</span>

<span class="nn">[ethernet, pcap]</span>
<span class="py">realnic</span><span class="p">=</span><span class="s">list</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The ''list'' value for ''realnic='' will need to be replaced by a value representing your actual network adapter.
See below for more information.</p>
</div>
<div class="sect3">
<h4 id="_ethernet_pcap">[ethernet, pcap]</h4>
<div class="paragraph">
<p>Create this section in your DOSBox-X config file if you want to use PCAP.
The only value that you normally need to set here is <code>realnic=</code>.</p>
</div>
<div class="sect4">
<h5 id="_realnic">realnic</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: list</p>
</li>
<li>
<p>Valid values: list, number or (partial) name of interface</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the below examples you will see the usage or <code>realnic=</code>. Once you have located the host network adapter to use, using <code>realnic=list</code>, you need to set it to that adapter.
This can be done in one of two ways.
You can either specify the number of the adapter, or a part of the name of the adapter.</p>
</div>
<div class="paragraph">
<p>e.g. If you want to use the entry:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>LOG:  9. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Realtek USB NIC' on local host)</pre>
</div>
</div>
<div class="paragraph">
<p>You can either specify it as <code>realnic=9</code> or <code>realnic=Realtek</code>, or if that is not unique you can also fully specify the name like so: <code>realnic="Realtek USB NIC"</code></p>
</div>
<div class="paragraph">
<p>It is recommended to use a name, as the order of the numbers can change due to various events on the host (e.g. adding or removing devices, or even launching other virtual machines)</p>
</div>
</div>
<div class="sect4">
<h5 id="_timeout">timeout</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: default</p>
</li>
<li>
<p>Valid values:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specifies the read timeout for the device in milliseconds for the pcap backend, or the default value will be used.</p>
</div>
<div class="paragraph">
<p>The default for Windows hosts is -1 which to WinPCap appears to mean "non-blocking mode".
For other platforms the default is 3000ms</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_backendslirp">backend=slirp</h3>
<div class="paragraph">
<p>Unlike the PCAP back-end, the SLIRP back-end does not require Promiscuous mode.
As such it will work with wireless adapters, and it will work in most sandboxed environments.</p>
</div>
<div class="paragraph">
<p>But obviously, it has its own limitations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is not supported in all platforms (such as Windows Visual Studio builds)</p>
</li>
<li>
<p>It only supports the TCP/IP protocol (other protocols must be TCP/IP encapsulated by the application running in DOSBox-X)</p>
</li>
<li>
<p>The DOSBox-X instance will effectively be behind the equivalent of a <a href="https://en.wikipedia.org/wiki/Network_address_translation">NAT</a> gateway, meaning that you can communicate outbound (e.g. download), but no systems on the LAN can instantiate a new connection to the DOSBox-X instance.
Which means that for instance, two DOSBox-X instances on the same LAN using <code>backend=slirp</code> cannot communicate with each other.
This can be overcome using the <code>tcp_port_forwards=</code> and <code>udp_port_forwards=</code> options.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To enable NE2000 emulation with the slirp back-end, add the following to your DOSBox-X config file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>
<span class="py">backend</span><span class="p">=</span><span class="s">slirp</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can optionally specify additional SLIRP options</p>
</div>
<div class="sect3">
<h4 id="_ethernet_slirp">[ethernet, slirp]</h4>
<div class="paragraph">
<p>Create this optional section in your DOSBox-X config file.
Generally these settings do not need to be modified from their default values.
Just if you happen to be using the 10.0.2.0/24 network locally, will you need to modify the various IP settings.</p>
</div>
<div class="sect4">
<h5 id="_restricted">restricted</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Valid values: true, false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Disables access to the host from the guest.
This effectively creates an isolated virtual network</p>
</div>
</div>
<div class="sect4">
<h5 id="_disable_host_loopback">disable_host_loopback</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: false</p>
</li>
<li>
<p>Valid values: true, false</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Disables guest access to the hosts loopback interfaces.
This effectively prevents the guest from accessing the hosts 127.0.0.0/8 loopback network. E.g. 127.0.0.1</p>
</div>
</div>
<div class="sect4">
<h5 id="_mtu">mtu</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 0</p>
</li>
<li>
<p>Valid values: 576-?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/Maximum_transmission_unit">maximum transmission unit</a> for Ethernet packets transmitted from the guest.
Specifying 0 will use libslirp&#8217;s default MTU size of 1500 bytes. A value larger than 9000 is not recommended.
MTU and MRU sizes should normally be identical.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you want to use a larger MTU than default, your hosts network adapter and your network switch needs to support it, otherwise the packets will get truncated.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_mru">mru</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 0</p>
</li>
<li>
<p>Valid values: 576-?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The maximum receive unit for Ethernet packets transmitted to the guest.
Specifying 0 will use libslirp&#8217;s default MRU size of 1500 bytes.
MRU and MTU sizes should normally be identical.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you want to use a larger MRU than default, your hosts network adapter and your network switch needs to support it, otherwise the packets will get truncated.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_ipv4_network">ipv4_network</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 10.0.2.0</p>
</li>
<li>
<p>Valid values: Any valid IPv4 network address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The IPv4 network the guest and host services are on.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ipv4_netmask">ipv4_netmask</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 255.255.255.0</p>
</li>
<li>
<p>Valid values: Any valid IPv4 netmask for the provided network address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The netmask for the IPv4 network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ipv4_host">ipv4_host</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 10.0.2.2</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The address of the host system on the IPv4 network, which will act as the gateway.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ipv4_nameserver">ipv4_nameserver</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 10.0.2.3</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The address of the nameserver service provided by the host on the IPv4 network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_ipv4_dhcp_start">ipv4_dhcp_start</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: 10.0.2.15</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The start address used for DHCP by the host services on the IPv4 network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tcp_port_forwards">tcp_port_forwards</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: &lt;blank&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Forwards one or more TCP ports from the host into the DOS guest.</p>
</div>
<div class="paragraph">
<p>The format is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>port1  port2  port3 &#8230;&#8203; (e.g., <code>21 80 443</code>)</p>
<div class="ulist">
<ul>
<li>
<p>This which will forward FTP, HTTP, and HTTPS into the DOS guest.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the ports are privileged on the host, a host:guest mapping can be used &#8230;&#8203; (e.g., <code>8021:21 8080:80</code>).</p>
<div class="ulist">
<ul>
<li>
<p>This will forward port 8021 and 8080 on the host to FTP and HTTP in the guest.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A range of adjacent ports can be abbreviated with a dash: start-end &#8230;&#8203; (e.g., <code>27910-27960</code>)</p>
<div class="ulist">
<ul>
<li>
<p>This will forward port 27910 to 27960 into the DOS guest.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mappings and ranges can be combined, too: hstart-hend:gstart-gend &#8230;&#8203;, (e.g, <code>8040-8080:20-60</code>)</p>
<div class="ulist">
<ul>
<li>
<p>This forwards ports 8040 to 8080 on the host into ports 20 to 60 in the guest</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If mapped ranges differ, the shorter range is extended to fit.</p>
</li>
<li>
<p>If conflicting host ports are given, only the first one is set up.</p>
</li>
<li>
<p>If conflicting guest ports are given, the latter rule takes precedence.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_udp_port_forwards">udp_port_forwards</h5>
<div class="ulist">
<ul>
<li>
<p>Default value: &lt;blank&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The format is the same as for TCP port forwards.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_guide_for_linux_hosts">Setup guide for Linux hosts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_install_libpcap_andor_libslirp">Install libpcap and/or libslirp</h3>
<div class="paragraph">
<p>This depends on your Linux distribution, but you need to have the libpcap library installed for the pcap back-end.
Or the libslirp library for the slirp back-end.</p>
</div>
<div class="sect3">
<h4 id="_debian_based_e_g_ubuntu">Debian based (e.g. Ubuntu)</h4>
<div class="paragraph">
<p>If you&#8217;re running a recent Debian or Debian based distribution such as Ubuntu, you can install the libraries from the command-line as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>libpcap libslirp</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_red_hat_suse_or_fedora">Red Hat, SUSE or Fedora</h4>
<div class="paragraph">
<p>If you used the provided RPM, libpcap and libslirp are dependencies and will be automatically installed when using a package manager to install DOSBox-X.</p>
</div>
<div class="paragraph">
<p>Otherwise, if you&#8217;re running a recent Red Hat, CentOS, SUSE or Fedora Linux distribution, you can install the libraries from the command-line as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>dnf <span class="nb">install </span>libpcap libslirp</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_check_if_your_dosbox_x_binary_supports_networking">Check if your DOSBox-X binary supports networking</h3>
<div class="paragraph">
<p>The provided RPMs have networking enabled, but if you compiled DOSBox-X yourself and the libpcap or libslirp headers where not installed, the resulting DOSBox-X binary will lack libpcap and/or libslirp support.
To check if your binary has networking support, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>ldd /usr/bin/dosbox-x |grep <span class="s2">"pcap</span><span class="se">\|</span><span class="s2">slirp"</span>
<span class="gp">	libpcap.so.1 =&gt;</span><span class="w"> </span>/lib64/libpcap.so.1 <span class="o">(</span>0x00007f7877a7a000<span class="o">)</span>
<span class="gp">	libslirp.so.0 =&gt;</span><span class="w"> </span>/lib64/libslirp.so.0 <span class="o">(</span>0x00007f7877a5c000<span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, the DOSBox-X binary has both libpcap and libslirp support, meaning it has networking. If the command returns nothing you do not have networking.
If you&#8217;re DOSBox-x binary has no networking, your options are to use the pre-compiled RPM package, or compile it yourself with libpcap and/or libslirp support enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setup_permissions_for_pcap">Setup permissions for PCAP</h3>
<div class="paragraph">
<p>The provided RPM packages automatically set up the necessary permission for libpcap to function.</p>
</div>
<div class="paragraph">
<p>Otherwise, you need to ensure that the DOSBox-X binary has permission to listen to and generate low level network traffic (promiscuous mode).
You can do this as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>which dosbox-x
<span class="go">/usr/bin/dosbox-x
</span><span class="gp">$</span><span class="w"> </span>getcap /usr/bin/dosbox-x
<span class="gp">$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first command returns the location of the dosbox-x binary (assuming it is in your path), the second command checks its capabilities.
In this case getcap does not return anything, meaning it has no special capabilities, which you need to rectify if you want to be able to have PCAP networking in DOSBox-X.
Run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>setcap cap_net_raw+ep /usr/bin/dosbox-x</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command will allow the dosbox-x binary to access the network interface in raw mode (pcap), meaning it can see all the traffic on all the network interfaces.</p>
</div>
<div class="paragraph">
<p>To validate that now the DOSBox-X binary indeed has the cap_net_raw capability, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>getcap /usr/bin/dosbox-x
<span class="go">/usr/bin/dosbox-x = cap_net_raw+ep</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Warning: If you manually install the dosbox-x binary, you will have to take this step each time you do an upgrade.</p>
</div>
</div>
<div class="sect2">
<h3 id="_locate_host_network_interface_for_pcap">Locate host network interface for PCAP</h3>
<div class="paragraph">
<p>You now need to find which host network interface you want to use for bridging with PCAP.</p>
</div>
<div class="paragraph">
<p>For this you need to have a DOSBox-X config file with NE2000 support enabled, and you need to know which host network adapter will be used for bridging.
It is highly recommended to only bridge to wired Ethernet adapters, as wireless adapters generally do not work with PCAP.</p>
</div>
<div class="paragraph">
<p>Create a simple <code>ne2000.conf</code> config file as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>
<span class="py">backend</span><span class="p">=</span><span class="s">pcap</span>

<span class="nn">[ethernet, pcap]</span>
<span class="py">realnic</span><span class="p">=</span><span class="s">list</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, from a terminal, start DOSBox-X, using the ne2000.conf config file you just created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf ne2000.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now from the DOSBox-X menu bar, select <strong>Help</strong> followed by <strong>List network interfaces</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DOSBox-X:Menu:Network_Interface_Option.png" alt="Menu: List network interfaces">
</div>
</div>
<div class="paragraph">
<p>You will now get a list of available network interfaces, similar to the screenshot shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DOSBox-X:Network_Interface_List.png" alt="Network Interface List">
</div>
</div>
<div class="paragraph">
<p>That is an example of the network interfaces that were detected for my Linux PC.
Now look at your own list, and locate an appropriate adapter to use.
In the above example, 1, or eno1 is the integrated Ethernet of my PC, which we will use in the below example.</p>
</div>
<div class="paragraph">
<p>Edit the ne2000.conf config file and change realnic= to the number or name of your chosen network interface. e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>
<span class="py">backend</span><span class="p">=</span><span class="s">pcap</span>

<span class="nn">[ethernet, pcap]</span>
<span class="py">realnic</span><span class="p">=</span><span class="s">eno1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can merge your config snippet with your Windows for Workgroups, Windows 95 or 98 config file, or use it to run something like mTCP in DOSBox-X.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_guide_for_windows_hosts">Setup guide for Windows hosts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_install_pcap">Install PCAP</h3>
<div class="paragraph">
<p>First you need to install PCAP support. As WinPcap is no longer maintained, <a href="https://nmap.org/npcap/">Npcap</a> seems the best candidate these days.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
At this point SLIRP is only supported in some MinGW builds, and not in Visual Studio builds.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_locate_host_network_interface">Locate host network interface</h3>
<div class="paragraph">
<p>You now need to find which host network interface you want to use for bridging.</p>
</div>
<div class="paragraph">
<p>For this you need to have a DOSBox-X config file with NE2000 support enabled, and you need to know which host network adapter will be used for bridging.
It is highly recommended to only bridge to wired Ethernet adapters, as wireless adapters generally do not work.</p>
</div>
<div class="paragraph">
<p>Create a simple <code>ne2000.conf</code> config file as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>

<span class="nn">[ethernet, pcap]</span>
<span class="py">realnic</span><span class="p">=</span><span class="s">list</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, from a command prompt, start DOSBox-X, using the <code>ne2000.conf</code> config file you just created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf ne2000.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now from the DOSBox-X menu bar, select <strong>Help</strong> followed by <strong>List network interfaces</strong></p>
</div>
<div class="paragraph">
<p>You will now get a list of available network interfaces, similar to the list shown below.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>LOG:  1. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'NdisWan Adapter' on local host)
LOG:  2. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Generic Mobile Broadband Adapter' on local host)
LOG:  3. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Microsoft' on local host)
LOG:  4. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Microsoft' on local host)
LOG:  5. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'NdisWan Adapter' on local host)
LOG:  6. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Microsoft' on local host)
LOG:  7. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'NdisWan Adapter' on local host)
LOG:  8. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Microsoft' on local host)
LOG:  9. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Realtek USB NIC' on local host)
LOG: 10. rpcap://\Device\NPF_Loopback
    (Network adapter 'Adapter for loopback traffic capture' on local host)
LOG: 11. rpcap://\Device\NPF_{AAAAAAAA-BBBB-CCCC-DDDD-XXXXXXXXXXXX}
    (Network adapter 'Intel(R) Ethernet Connection I219-V' on local host)</pre>
</div>
</div>
<div class="paragraph">
<p>That is an example of the network interfaces that were detected for my Windows 10 PC (with the UUIDs masked).
Now look at your own list, and locate an appropriate adapter to use.
In the above example, 9 is the USB Ethernet adapter I want to use. It may take you a few tries to find the correct adapter.</p>
</div>
<div class="paragraph">
<p>Edit the <code>ne2000.conf</code> config file and change <code>realnic=</code> to the value or name of your chosen network interface. e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>
<span class="py">backend</span><span class="p">=</span><span class="s">pcap</span>

<span class="nn">[ethernet, pcap]</span>
<span class="py">realnic</span><span class="p">=</span><span class="s">"Realtek USB NIC"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can merge your config snippet with your Windows for Workgroups, Windows 95 or 98 config file, or use it to run something like mTCP in DOSBox-X.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mtcp_example">mTCP example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This example uses mTCP to test if networking is working in DOSBox-X.</p>
</div>
<div class="paragraph">
<p>This requires that you first download the latest version of mTCP, and a NE2000 DOS packet driver (the latter is included in DOSBox-X as of version 0.83.15 when the NE2000 networking feature is enabled).</p>
</div>
<div class="paragraph">
<p><strong>External links</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.brutman.com/mTCP/mTCP.html">mTCP homepage</a></p>
</li>
<li>
<p><a href="http://www.georgpotthast.de/sioux/packet.htm">DOS Packet drivers</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>unzip both mTCP and the NE2000 DOS Packet driver into a directory. In the below example the directory is named <code>mtcp</code>, then start DOSBox-X with the <code>ne2000.conf</code> config file that you created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf ne2000.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now in DOSBox-X run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MOUNT C mtcp
C:
SET MTCPCFG=C:\SAMPLES\SAMPLE.CFG
NE2000 0x60 10 0x300
DHCP</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If all worked fine, you should have gotten an IP address, and you can now do something like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">PING google.com</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_common_problem_invalid_mac_address">Common problem: Invalid MAC Address</h3>
<div class="paragraph">
<p>When loading the NE2000 DOS Packet driver you get an all FF Ethernet MAC address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">C:\&gt;</span>NE2000 0x60 10 0x300
<span class="go">Packet driver for NE2000, version 11.4.3
Packet driver skeleton copyright 1988-93, Crynwr Software.
</span><span class="gp">This program is freely copyable;</span><span class="w"> </span><span class="nb">source </span>must be available<span class="p">;</span> NO WARRANTY.
<span class="gp">See the file COPYING.DOC for details;</span><span class="w"> </span>send FAX to +1-315-268-9201 <span class="k">for </span>a copy.
<span class="go">
System: [345]86 processor, ISA bus, Two 8259s
Packet driver software interrupt is 0x60 (96)
Interrupt number 0xA (10)
I/O port 0x300 (768)
My Ethernet address is FF:FF:FF:FF:FF:FF</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This can actually have several causes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Your DOSBox-X binary lacks networking support</p>
</li>
<li>
<p>(Linux) Your DOSBox-X binary does not have the right PCAP permissions to access networking</p>
</li>
<li>
<p>You do not have PCAP installed (libpcap on Linux, Npcap on Windows), or SLIRP</p>
</li>
<li>
<p>When loading the NE2000 driver you gave the wrong IRQ or IO port.</p>
<div class="ulist">
<ul>
<li>
<p>This should only affect non-standard setups where you specified a different <code>nicirq=</code> or <code>nicbase=</code> in your <code>ne2000.conf</code> config file.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_common_problem_cannot_get_dhcp_lease">Common problem: Cannot get DHCP lease</h3>
<div class="paragraph">
<p>When starting DHCP you get only timeouts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">C:\&gt;</span>DHCP
<span class="go">mTCP DHCP Client by M Brutman (mbbrutman@gmail.com) (C)opyright 2008-2020
Version: Mar  7 2020

Timeout per request: 10 seconds, Retry attempts: 3
Sending DHCP requests, Press [ESC] to abort.

DHCP request sent, attempt 1: Timeout
DHCP request sent, attempt 2: Timeout
DHCP request sent, attempt 3: Timeout

Error: Your Ethernet card reported an error for every packet we sent.
Check your cabling and packet driver settings, including the hardware IRQ.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This can actually have several causes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check if you got a valid Ethernet MAC address when loading the NE2000 packet driver.</p>
</li>
<li>
<p>When using PCAP, try to set <code>REALNIC=</code> in your <code>ne2000.conf</code> config file to a different network interface. In particular wireless adapters are unlikely to work, so try wired Ethernet instead. The order in which the interfaces are listed can also change due to plugging or unplugging devices, or launching certain type of programs like Virtual Machines.</p>
</li>
<li>
<p>Perhaps you don&#8217;t have a DHCP server on your network, or it is configured to only listen to known MAC addresses. Try to set manual IP settings, suitable for your network, at the bottom of <code>SAMPLES/SAMPLE.CFG</code> and try if you can ping.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_common_problem_multiple_dosbox_x_instances">Common problem: Multiple DOSBox-X instances</h3>
<div class="paragraph">
<p>By default, all DOSBox-X instances use the exact same MAC address (<code>AC:DE:48:88:99:AA</code>).
If there are multiple DOSBox-X instances running on the same host, or on different hosts on the same network segment, they will conflict with each other.</p>
</div>
<div class="paragraph">
<p>Unfortunately not all operating systems will warn you about this, but it will cause problems on the network and the DOSBox-X instances will not be able to communicate with each other.</p>
</div>
<div class="paragraph">
<p>The solution is to define a new MAC address for at least one of the DOSBox-X instances.</p>
</div>
<div class="paragraph">
<p>In your DOSBox-X config file, in the <code>[ne2000]</code> section, add a <code>macaddr=</code> line with a new MAC address.
The AC:DE:48 range is a reserved range for private use, so just modify the last three number blocks.
e.g.,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ini"><span class="nn">[ne2000]</span>
<span class="py">ne2000</span><span class="p">=</span><span class="s">true</span>
<span class="py">nicirq</span><span class="p">=</span><span class="s">10</span>
<span class="py">macaddr</span><span class="p">=</span><span class="s">AC:DE:48:88:99:AB</span>

<span class="nn">[ethernet, pcap]</span>
<span class="py">realnic</span><span class="p">=</span><span class="s">1</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ipx_example">IPX example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two ways to enable IPX communication, which was used by some <a href="https://www.mobygames.com/attribute/sheet/attributeId,82/p,2/">DOS and Windows games</a> for multi-player support.</p>
</div>
<div class="sect2">
<h3 id="_using_dosbox_x_integrated_ipx_support">Using DOSBox-X integrated IPX support</h3>
<div class="paragraph">
<p>DOSBox-X has integrated support for IPX over IP (IPX encapsulated in IP).
You do not even have to enable NE2000 emulation for this.</p>
</div>
<div class="paragraph">
<p>The advantage of this is that you can communicate with any other system that is directly reachable over TCP/IP.
To test this, first <code>ping</code> the remote systems from the host OS to ensure connectivity.</p>
</div>
<div class="paragraph">
<p>A disadvantage of this approach is that you cannot communicate with retro PCs on the same network that are running the native IPX stack.</p>
</div>
<div class="paragraph">
<p>This process is described on the <a href="https://www.dosbox.com/wiki/Connectivity">DOSBox wiki</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_netware_16_bit_dos_client">Using the NetWare 16-bit DOS Client</h3>
<div class="paragraph">
<p>This example uses Novell&#8217;s IPX stack, and only works with the PCAP back-end.
A disadvantage of this approach is that it is not routable over the Internet, meaning it can only communicate with other systems running the native IPX stack on your local network.
An advantage is that it can communicate with a real retro DOS PC running IPX on your local network.</p>
</div>
<div class="paragraph">
<p>This requires that you first download the <code>vlm121_2.exe</code> and <code>vlm121_6.exe</code> files from the Novell NetWare 16-bit DOS Client.
The rest of the NetWare client files are typically not needed for the purpose of running DOS games that require IPX.</p>
</div>
<div class="paragraph">
<p><strong>External links</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://web.archive.org/web/19961221111819/http://support.novell.com/Ftp/Updates/nwos/vlm121/Date0.html">Novell NetWare DOS/Windows Client v1.21</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you have downloaded the files, you need to extract them.
The VLM121*.EXE files are individual self-extracting DOS ARJ archives.
The easiest way is probably to extract them in DOSBox-X itself.</p>
</div>
<div class="paragraph">
<p><strong>Notes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you want to do a full installation of the NetWare 16-bit Client, you cannot run the NetWare <code>INSTALL.EXE</code> in the emulated DOS environment that DOSBox-X provides. It will fail with "An invalid drive was given in path". You can however install it if you boot a real DOS in DOSBox-X.</p>
</li>
<li>
<p>These instructions do not apply to the 32-bit NetWare client (client32) for DOS and 16-bit Windows.</p>
</li>
<li>
<p>You can extract the self-extracting EXE files on Linux with the command-line <code>arj</code> utility, but you need to use the <code>-he</code> switch to disable the Security Envelope check.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_unpacking_the_vlm_archive_in_dosbox_x">Unpacking the VLM archive in DOSBox-X</h4>
<div class="paragraph">
<p>Move the files to a temporary directory for extraction, and from that directory launch DOSBox-X.</p>
</div>
<div class="paragraph">
<p>Then run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MOUNT C .
C:
VLM121_2.EXE -y
VLM121_6.EXE -y</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The files needed are still packed in yet another "Personal NetWare Packed File" archive. Extract them as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MKDIR IPX
NWUNPACK LSL.CO_ \IPX
NWUNPACK IPXODI.CO_ \IPX
NWUNPACK NETBIOS.EX_ \IPX
NWUNPACK DOS\NE2000.CO_ \IPX
EXIT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The IPX directory that was created now contains the following files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LSL.COM</code> (Link Support Layer)</p>
</li>
<li>
<p><code>IPXODI.COM</code> (ODI IPX protocol provider)</p>
</li>
<li>
<p><code>NETBIOS.EXE</code> (NetBIOS Protocol over IPX)</p>
</li>
<li>
<p><code>NE2000.COM</code> (ODI driver for the NE2000 network adapter)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_create_net_cfg">Create NET.CFG</h4>
<div class="paragraph">
<p>Now create a text file called <code>NET.CFG</code>, and place it in the same directory as <code>LSL.COM</code>, with the following content:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Link Driver NE2000
        PORT 300
        IRQ 10
        FRAME Ethernet_802.2</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Notes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you used a different IRQ or IO (port) base address, adjust <code>NET.CFG</code> accordingly.</p>
</li>
<li>
<p>If you&#8217;re running on Linux, be sure the <code>NET.CFG</code> config file is saved in DOS format (with CRLF line terminators), otherwise the NE2000 driver will not be loaded at the specified resources. If necessary use <code>unix2dos</code> to convert it to DOS format.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_start_ipx">Start IPX</h4>
<div class="paragraph">
<p>Now modify your <code>ne2000.conf</code> config file that you created earlier, such that it contains the following lines in the <code>[autoexec]</code> section at the end:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">MOUNT C .
C:
IPX\LSL.COM
IPX\NE2000.COM
IPX\IPXODI.COM</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Adjust paths in the above example as necessary, and you should be able to run it from a command prompt as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">dosbox-x -conf ne2000.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: For <a href="https://www.mobygames.com/attribute/sheet/attributeId,129/p,2/">games that require NETBIOS</a>, you can also add <code>IPX\NETBIOS.EXE</code> at the end.
But note that this is NetBIOS <strong>over</strong> IPX, which cannot communicate with other systems running native NetBIOS Frames (NBF) or NetBIOS over TCP/IP.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-05-06 21:06:49 +0800
</div>
</div>
<script src="./docinfo/copy-to-clipboard.js"></script>
</body>
</html>