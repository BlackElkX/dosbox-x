<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>Installing MS-DOS 6.x in DOSBox-X</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./rouge-github.css">
<link rel="stylesheet" href="./docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>Back to the <a href="Guide%3ADOS-Installation-in-DOSBox‐X">PC DOS and MS-DOS Installation Guide</a></p>
</div>
<div class="sect1">
<h2 id="_installing_ms_dos_6_x_in_dosbox_x">Installing MS-DOS 6.x in DOSBox-X</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_installing_ms_dos_6_x_in_dosbox_x">Installing MS-DOS 6.x in DOSBox-X</a></li>
<li><a href="#_overview">Overview</a>
<ul class="sectlevel2">
<li><a href="#_editions_this_applies_to">Editions this applies to</a></li>
<li><a href="#_notes">Notes</a></li>
</ul>
</li>
<li><a href="#_creating_an_ms_dos_6_x_hdd_image">Creating an MS-DOS 6.x HDD image</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_editions_this_applies_to">Editions this applies to</h3>
<div class="ulist">
<ul>
<li>
<p>MS-DOS 6.0</p>
<div class="ulist">
<ul>
<li>
<p>Adds F5 and F8 clean boot and selective boot options</p>
</li>
<li>
<p>Adds Startup Menu support</p>
</li>
<li>
<p>Adds MEMMAKER memory optimizer with better HIMEM/EMM386</p>
</li>
<li>
<p>Adds Disk defragmentation (based on Norton SpeedDisk)</p>
</li>
<li>
<p>Adds DBLSPACE disk compression</p>
</li>
<li>
<p>Adds MSCDEX</p>
</li>
<li>
<p>SmartDrive upgraded with write caching and double buffering</p>
</li>
<li>
<p>New MS Backup software for DOS and Windows (based on Norton Backup)</p>
</li>
<li>
<p>Adds MS AntiVirus for DOS and Windows (based on Central Point AntiVirus)</p>
</li>
<li>
<p>Adds a Windows version of UNDELETE</p>
</li>
<li>
<p>Adds APM Power Management (POWER.EXE)</p>
</li>
<li>
<p>Adds InterLink file transfer tool (using serial or parallel ports)</p>
</li>
<li>
<p>Adds DELTREE and MOVE commands</p>
</li>
<li>
<p>Removed EDLIN, MIRROR, RECOVER and BACKUP</p>
</li>
</ul>
</div>
</li>
<li>
<p>MS-DOS 6.20</p>
<div class="ulist">
<ul>
<li>
<p>SCANDISK added featuring a more user-friendly interface than CHKDSK</p>
</li>
<li>
<p>Improved DBLSPACE stability</p>
</li>
</ul>
</div>
</li>
<li>
<p>MS-DOS 6.21</p>
<div class="ulist">
<ul>
<li>
<p>DBLSPACE removed (due to Stacker lawsuit)</p>
</li>
</ul>
</div>
</li>
<li>
<p>MS-DOS 6.22</p>
<div class="ulist">
<ul>
<li>
<p>New DRVSPACE disk compression added</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_notes">Notes</h3>
<div class="ulist">
<ul>
<li>
<p>From this point, Microsoft MS-DOS and IBM PC DOS have diverged.</p>
</li>
<li>
<p>MS-DOS 6.x was available to both OEM&#8217;s and end-users. However, the only version (officially) available to end-users was the "Upgrade" release, which requires that you already have DOS installed. It will refuse to install on a clean system. The workaround to this is fairly simple. You boot from the first disk, at the welcome screen press F3 twice, and you&#8217;re at the command prompt. You can now, if necessary, partition and format the HDD and transfer the system files (<code>SYS C:</code>). After you&#8217;re done, just run SETUP.EXE or simply reboot from Disk 1 and the installer, because there are now system files on the HDD, will allow you to install MS-DOS 6.x Upgrade edition.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_an_ms_dos_6_x_hdd_image">Creating an MS-DOS 6.x HDD image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Note: In addition to the below DOSBox-X command line utility, it is possible to create harddisk images from the DOSBox-X menu.
Go to the "DOS" menu, and select "Create blank disk image…​".
This option allows for various common harddisk types to be created, for less common types you need to use the command line utility.</p>
</div>
<div class="paragraph">
<p>Starting with DOS 5.00, installing DOS in DOSBox-X is much more straight forward, as you can have <code>IMGMAKE</code> create an HDD image that is already partitioned and formatted.</p>
</div>
<div class="paragraph">
<p>Maximum HDD size has increased to 8GB (or more exactly 7.84GB), but the maximum partition size is basically still 2GB, which is a FAT16 limitation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go"> IMGMAKE hdd.img -t hd -size 2048
 IMGMOUNT C hdd.img
 BOOT DISK1.IMG DISK2.IMG DISK3.IMG</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to create an HDD image with a size less than 65MB (such as the hd_st251 template which creates a 40MB HDD image) for use with MS-DOS 6 Setup, you may want to specify the option <code>-FAT 12</code> for IMGMAKE command so that the FAT12 file system will be used (instead of FAT16 or FAT32), e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go"> IMGMAKE hdd.img -t hd_st251 -fat 12</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Followed by the IMGMOUNT and BOOT commands.</p>
</div>
<div class="paragraph">
<p>In any case, when prompted to change disk, on the DOSBox-X menu bar select "DOS" followed by "Swap disk". After the installation is finished, from the DOSBox-X menu bar select "Main" followed by "Reset guest system", and you will be back at the DOSBox-X <code>Z:\&gt;</code> prompt.</p>
</div>
<div class="paragraph">
<p>You can now boot these DOS versions directly from the HDD image as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">IMGMOUNT 0 empty -fs none -t floppy
IMGMOUNT C hdd.img -ide 1m
IMGMOUNT D empty -t iso -ide 2m
BOOT C:</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<script src="./docinfo/copy-to-clipboard.js"></script>
</body>
</html>